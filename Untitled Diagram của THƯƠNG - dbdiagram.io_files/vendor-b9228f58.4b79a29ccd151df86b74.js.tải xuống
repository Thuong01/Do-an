!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bc416199-796c-46ee-b10e-3f29580a300f",e._sentryDebugIdIdentifier="sentry-dbid-bc416199-796c-46ee-b10e-3f29580a300f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[1496],{42683:function(e,t,r){r.d(t,{en:function(){return f},jt:function(){return p},q_:function(){return l}});var i=r(39587),o=r(13338),n=r(69887),s=r(53720),c=r(37264),d=r(91860),u=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{d(i.next(e))}catch(e){n(e)}}function c(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};function l(e){const t=new n.Vq;for(const r of e.items){const e=r.type;if("string"===r.kind){const i=new Promise((e=>r.getAsString(e)));t.append(e,(0,n.gf)(i))}else if("file"===r.kind){const i=r.getAsFile();i&&t.append(e,a(i))}}return t}function a(e){const t=e.path?c.r.parse(e.path):void 0;return(0,n.VX)(e.name,t,(()=>u(this,void 0,void 0,(function*(){return new Uint8Array(yield e.arrayBuffer())}))))}const h=Object.freeze([d.sV.EDITORS,d.sV.FILES,i.t.RESOURCES]);function f(e,t,r=!1){var i;if(t.dataTransfer&&(r||!e.has(s.K.uriList))){const r=(0,d.zF)(t).filter((e=>e.resource)).map((e=>e.resource.toString()));for(const e of null===(i=t.dataTransfer)||void 0===i?void 0:i.items){const t=e.getAsFile();t&&r.push(t.path?c.r.file(t.path).toString():t.name)}r.length&&e.replace(s.K.uriList,(0,n.gf)(p.create(r)))}for(const t of h)e.delete(t)}const p=Object.freeze({create:e=>(0,o.dM)(e.map((e=>e.toString()))).join("\r\n"),parse:e=>e.split("\r\n").filter((e=>!e.startsWith("#")))})},66638:function(e,t,r){r.d(t,{Np:function(){return n},jA:function(){return s},z9:function(){return o}});var i=r(12596);function o(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===i._.ICodeEditor}function n(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===i._.IDiffEditor}function s(e){return o(e)?e:n(e)?e.getModifiedEditor():null}},58574:function(e,t,r){r.d(t,{$z:function(){return m},BA:function(){return v},DW:function(){return _},Hh:function(){return l},Qn:function(){return y},dO:function(){return g},i_:function(){return p},nz:function(){return u},wt:function(){return f}});var i=r(14333),o=r(10176),n=r(9715),s=r(65958),c=r(10998),d=r(4874);class u{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new l(this.x-i.Yx.scrollX,this.y-i.Yx.scrollY)}}class l{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new u(this.clientX+i.Yx.scrollX,this.clientY+i.Yx.scrollY)}}class a{constructor(e,t,r,i){this.x=e,this.y=t,this.width=r,this.height=i,this._editorPagePositionBrand=void 0}}class h{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function f(e){const t=i.BK(e);return new a(t.left,t.top,t.width,t.height)}function p(e,t,r){const i=t.width/e.offsetWidth,o=t.height/e.offsetHeight,n=(r.x-t.x)/i,s=(r.y-t.y)/o;return new h(n,s)}class g extends n.P{constructor(e,t,r){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new u(this.posx,this.posy),this.editorPos=f(r),this.relativePos=p(r,this.editorPos,this.pos)}}class m{constructor(e){this._editorViewDomNode=e}_create(e){return new g(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return i.ko(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return i.ko(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return i.ko(e,i.Bx.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return i.ko(e,i.Bx.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return i.ko(e,i.Bx.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return i.ko(e,"mousemove",(e=>t(this._create(e))))}}class _{constructor(e){this._editorViewDomNode=e}_create(e){return new g(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return i.ko(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return i.ko(e,i.Bx.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return i.ko(e,i.Bx.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return i.ko(e,"pointermove",(e=>t(this._create(e))))}}class v extends c.jG{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new o._),this._keydownListener=null}startMonitoring(e,t,r,o,n){this._keydownListener=i.b2(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,r,(e=>{o(new g(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),n(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class y{constructor(e){this._editor=e,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new s.uC((()=>this.garbageCollect()),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let r=this._rules.get(t);if(!r){const o=this._counter++;r=new w(t,`dyn-rule-${this._instanceId}-${o}`,i.Cl(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,r)}return r}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}y._idPool=0;class w{constructor(e,t,r,o){this.key=e,this.className=t,this.properties=o,this._referenceCount=0,this._styleElement=i.li(r),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let r=`.${e} {`;for(const e in t){const i=t[e];let o;o="object"==typeof i?`var(${(0,d.Bbc)(i.id)})`:i;r+=`\n\t${C(e)}: ${o};`}return r+="\n}",r}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function C(e){return e.replace(/(^[A-Z])/,(([e])=>e.toLowerCase())).replace(/([A-Z])/g,(([e])=>`-${e.toLowerCase()}`))}},50946:function(e,t,r){r.d(t,{DX:function(){return E},E_:function(){return k},Fl:function(){return x},HW:function(){return R},PF:function(){return b},aU:function(){return T},dS:function(){return i},fE:function(){return w},gW:function(){return O},ih:function(){return A},ke:function(){return M},ks:function(){return S},tc:function(){return N},uB:function(){return y},xX:function(){return P}});var i,o=r(3765),n=r(37264),s=r(87301),c=r(15365),d=r(64830),u=r(37042),l=r(58067),a=r(59715),h=r(96655),f=r(82399),p=r(48421),g=r(67167),m=r(76243),_=r(79359),v=r(46441);class y{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?h.M$.and(e,this.precondition):this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};p.f.registerKeybindingRule(r)}}a.wb.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){l.ZG.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class w extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,r){return this._implementations.push({priority:e,name:t,implementation:r}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===r)return void this._implementations.splice(e,1)}}}runCommand(e,t){const r=e.get(v.rr);r.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const i of this._implementations){const o=i.implementation(e,t);if(o){if(r.trace(`Command '${this.id}' was handled by '${i.name}'.`),"boolean"==typeof o)return;return o}}r.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class C extends y{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class E extends y{static bindToContribution(e){return class extends E{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,r,i){const o=e(r);o&&this._callback(o,i)}}}static runEditorCommand(e,t,r,i){const o=e.get(s.T),n=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(n)return n.invokeWithinContext((e=>{if(e.get(h.fN).contextMatchesRules((0,_.UH)(r)))return i(e,n,t)}))}runCommand(e,t){return E.runEditorCommand(e,t,this.precondition,((e,t,r)=>this.runEditorCommand(e,t,r)))}}class S extends E{constructor(e){super(S.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function r(t){return t.menuId||(t.menuId=l.D8.EditorContext),t.title||(t.title=e.label),t.when=h.M$.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(r)):e.contextMenuOpts&&t.push(r(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,r){return this.reportTelemetry(e,t),this.run(e,t,r||{})}reportTelemetry(e,t){e.get(m.k).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class b extends S{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,r){for(const i of this._implementations){const o=i[1](e,t,r);if(o){if("boolean"==typeof o)return;return o}}}}function M(e,t){a.wb.registerCommand(e,(function(e,...r){const i=e.get(f._Y),[o,s]=r;(0,_.j)(n.r.isUri(o)),(0,_.j)(c.y.isIPosition(s));const l=e.get(d.S).getModel(o);if(l){const e=c.y.lift(s);return i.invokeFunction(t,l,e,...r.slice(2))}return e.get(u.b).createModelReference(o).then((e=>new Promise(((o,n)=>{try{o(i.invokeFunction(t,e.object.textEditorModel,c.y.lift(s),r.slice(2)))}catch(e){n(e)}})).finally((()=>{e.dispose()}))))}))}function k(e){return D.INSTANCE.registerEditorCommand(e),e}function x(e){const t=new e;return D.INSTANCE.registerEditorAction(t),t}function O(e){return D.INSTANCE.registerEditorAction(e),e}function P(e){D.INSTANCE.registerEditorAction(e)}function R(e,t){D.INSTANCE.registerEditorContribution(e,t)}!function(e){e.getEditorCommand=function(e){return D.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return D.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return D.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return D.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},e.getDiffEditorContributions=function(){return D.INSTANCE.getDiffEditorContributions()}}(i||(i={}));class D{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function I(e){return e.register(),e}D.INSTANCE=new D,g.O.add("editor.contributions",D.INSTANCE);const T=I(new w({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:l.D8.MenubarEditMenu,group:"1_do",title:o.kg({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:l.D8.CommandPalette,group:"",title:o.kg("undo","Undo"),order:1}]}));I(new C(T,{id:"default:undo",precondition:void 0}));const A=I(new w({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:l.D8.MenubarEditMenu,group:"1_do",title:o.kg({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:l.D8.CommandPalette,group:"",title:o.kg("redo","Redo"),order:1}]}));I(new C(A,{id:"default:redo",precondition:void 0}));const N=I(new w({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:l.D8.MenubarSelectionMenu,group:"1_basic",title:o.kg({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:l.D8.CommandPalette,group:"",title:o.kg("selectAll","Select All"),order:1}]}))},48771:function(e,t,r){r.d(t,{C:function(){return l}});var i=r(2106),o=r(10998),n=r(85525),s=r(89044),c=function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},d=function(e,t){return function(r,i){t(r,i,e)}},u=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{d(i.next(e))}catch(e){n(e)}}function c(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};let l=class extends o.jG{constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new i.vl),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new i.vl),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new i.vl),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new i.vl),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new n.w,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const r of t){if(r.hasTextFocus())return r;r.hasWidgetFocus()&&(e=r)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,r){const i=e.toString();let o;this._modelProperties.has(i)?o=this._modelProperties.get(i):(o=new Map,this._modelProperties.set(i,o)),o.set(t,r)}getModelProperty(e,t){const r=e.toString();if(this._modelProperties.has(r)){return this._modelProperties.get(r).get(t)}}openCodeEditor(e,t,r){return u(this,void 0,void 0,(function*(){for(const i of this._codeEditorOpenHandlers){const o=yield i(e,t,r);if(null!==o)return o}return null}))}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return(0,o.s)(t)}};l=c([d(0,s.Gy)],l)},98769:function(e,t,r){r.d(t,{cw:function(){return d},jN:function(){return c},nu:function(){return s}});var i=r(82399),o=r(37264),n=r(79359);const s=(0,i.u1)("IWorkspaceEditService");class c{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(d.is(e))return d.lift(e);if(u.is(e))return u.lift(e);throw new Error("Unsupported edit")}))}}class d extends c{constructor(e,t,r=void 0,i){super(i),this.resource=e,this.textEdit=t,this.versionId=r}static is(e){return e instanceof d||(0,n.Gv)(e)&&o.r.isUri(e.resource)&&(0,n.Gv)(e.textEdit)}static lift(e){return e instanceof d?e:new d(e.resource,e.textEdit,e.versionId,e.metadata)}}class u extends c{constructor(e,t,r={},i){super(i),this.oldResource=e,this.newResource=t,this.options=r}static is(e){return e instanceof u||(0,n.Gv)(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof u?e:new u(e.oldResource,e.newResource,e.options,e.metadata)}}},87301:function(e,t,r){r.d(t,{T:function(){return i}});const i=(0,r(82399).u1)("codeEditorService")},88700:function(e,t,r){r.d(t,{Bc:function(){return S},Z6:function(){return P}});var i=r(65958),o=r(10998),n=r(45585),s=r(65210),c=r(28061),d=r(52394),u=r(93034),l=r(64830),a=r(41504),h=r(16844),f=r(13338),p=r(46441),g=r(23013),m=r(94327),_=r(52230),v=function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},y=function(e,t){return function(r,i){t(r,i,e)}},w=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{d(i.next(e))}catch(e){n(e)}}function c(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};const C=3e5;function E(e,t){const r=e.getModel(t);return!!r&&!r.isTooLargeForSyncing()}let S=class extends o.jG{constructor(e,t,r,i,o){super(),this._modelService=e,this._workerManager=this._register(new M(this._modelService,i)),this._logService=r,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>E(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new b(this._workerManager,t,this._modelService,i)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return E(this._modelService,e)}computedUnicodeHighlights(e,t,r){return this._workerManager.withWorker().then((i=>i.computedUnicodeHighlights(e,t,r)))}computeDiff(e,t,r,i){return this._workerManager.withWorker().then((o=>o.computeDiff(e,t,r,i)))}computeMoreMinimalEdits(e,t){if((0,f.EI)(t)){if(!E(this._modelService,e))return Promise.resolve(t);const r=g.W.create(!0),o=this._workerManager.withWorker().then((r=>r.computeMoreMinimalEdits(e,t)));return o.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),r.elapsed()))),Promise.race([o,(0,i.wR)(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return E(this._modelService,e)}navigateValueSet(e,t,r){return this._workerManager.withWorker().then((i=>i.navigateValueSet(e,t,r)))}canComputeWordRanges(e){return E(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((r=>r.computeWordRanges(e,t)))}};S=v([y(0,l.S),y(1,a.U),y(2,p.rr),y(3,d.JZ),y(4,_.u)],S);class b{constructor(e,t,r,i){this.languageConfigurationService=i,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=r}provideCompletionItems(e,t){return w(this,void 0,void 0,(function*(){const r=this._configurationService.getValue(e.uri,t,"editor");if(!r.wordBasedSuggestions)return;const i=[];if("currentDocument"===r.wordBasedSuggestionsMode)E(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())E(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==r.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||i.push(t.uri));if(0===i.length)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),n=e.getWordAtPosition(t),s=n?new c.Q(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn):c.Q.fromPositions(t),d=s.setEndPosition(t.lineNumber,t.column),u=yield this._workerManager.withWorker(),l=yield u.textualSuggest(i,null==n?void 0:n.word,o);return l?{duration:l.duration,suggestions:l.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:d,replace:s}})))}:void 0}))}}class M extends o.jG{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();this._register(new i.vb).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>C&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new P(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class k extends o.jG{constructor(e,t,r){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!r){const e=new i.vb;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)(0,o.AS)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const r of e){const e=r.toString();this._syncedModels[e]||this._beginModelSync(r,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const r in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[r]>6e4&&t.push(r)}for(const e of t)this._stopModelSync(e)}_beginModelSync(e,t){const r=this._modelService.getModel(e);if(!r)return;if(!t&&r.isTooLargeForSyncing())return;const i=e.toString();this._proxy.acceptNewModel({url:r.uri.toString(),lines:r.getLinesContent(),EOL:r.getEOL(),versionId:r.getVersionId()});const n=new o.Cm;n.add(r.onDidChangeContent((e=>{this._proxy.acceptModelChanged(i.toString(),e)}))),n.add(r.onWillDispose((()=>{this._stopModelSync(i)}))),n.add((0,o.s)((()=>{this._proxy.acceptRemovedModel(i)}))),this._syncedModels[i]=n}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,o.AS)(t)}}class x{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class O{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class P extends o.jG{constructor(e,t,r,i){super(),this.languageConfigurationService=i,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new s.K(r),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new n.gk(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new O(this)))}catch(e){(0,n.IR)(e),this._worker=new x(new u.Wg(new O(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>((0,n.IR)(e),this._worker=new x(new u.Wg(new O(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new k(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return w(this,void 0,void 0,(function*(){return this._disposed?Promise.reject((0,m.aD)()):this._getProxy().then((r=>(this._getOrCreateModelManager(r).ensureSyncedResources(e,t),r)))}))}computedUnicodeHighlights(e,t,r){return this._withSyncedResources([e]).then((i=>i.computeUnicodeHighlights(e.toString(),t,r)))}computeDiff(e,t,r,i){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),r,i)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((r=>r.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,r){return w(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),o=r.source,n=(0,h.RH)(r);return i.textualSuggest(e.map((e=>e.toString())),t,o,n)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((r=>{const i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),n=o.source,s=(0,h.RH)(o);return r.computeWordRanges(e.toString(),t,n,s)}))}navigateValueSet(e,t,r){return this._withSyncedResources([e]).then((i=>{const o=this._modelService.getModel(e);if(!o)return null;const n=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),s=n.source,c=(0,h.RH)(n);return i.navigateValueSet(e.toString(),t,r,s,c)}))}dispose(){super.dispose(),this._disposed=!0}}},90711:function(e,t,r){var i=r(80886),o=r(50946),n=function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=function(e,t){return function(r,i){t(r,i,e)}};let c=class{constructor(e,t){}dispose(){}};c.ID="editor.contrib.markerDecorations",c=n([s(1,i.A)],c),(0,o.HW)(c.ID,c)},73344:function(e,t,r){r.d(t,{J:function(){return w}});var i=r(14333),o=r(78903),n=r(85525),s=r(27992),c=r(50180),d=r(13072),u=r(22467),l=r(37264),a=r(87301),h=r(59715),f=r(52947),p=r(54435),g=function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},m=function(e,t){return function(r,i){t(r,i,e)}},_=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{d(i.next(e))}catch(e){n(e)}}function c(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};let v=class{constructor(e){this._commandService=e}open(e,t){return _(this,void 0,void 0,(function*(){if(!(0,p.v$)(e,d.ny.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=l.r.parse(e));let r=[];try{r=(0,c.q)(decodeURIComponent(e.query))}catch(t){try{r=(0,c.q)(e.query)}catch(e){}}return Array.isArray(r)||(r=[r]),yield this._commandService.executeCommand(e.path,...r),!0}))}};v=g([m(0,h.wT)],v);let y=class{constructor(e){this._editorService=e}open(e,t){return _(this,void 0,void 0,(function*(){"string"==typeof e&&(e=l.r.parse(e));const{selection:r,uri:i}=(0,p.ew)(e);return(e=i).scheme===d.ny.file&&(e=(0,u.Fd)(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:r,source:(null==t?void 0:t.fromUserGesture)?f.$.USER:f.$.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};y=g([m(0,a.T)],y);let w=class{constructor(e,t){this._openers=new n.w,this._validators=new n.w,this._resolvers=new n.w,this._resolvedUriTargets=new s.fT((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new n.w,this._defaultExternalOpener={openExternal:e=>_(this,void 0,void 0,(function*(){return(0,p.fV)(e,d.ny.http,d.ny.https)?i.jh(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>_(this,void 0,void 0,(function*(){return!(!(null==t?void 0:t.openExternal)&&!(0,p.fV)(e,d.ny.mailto,d.ny.http,d.ny.https,d.ny.vsls))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new v(t)),this._openers.push(new y(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var r;return _(this,void 0,void 0,(function*(){const i="string"==typeof e?l.r.parse(e):e,o=null!==(r=this._resolvedUriTargets.get(i))&&void 0!==r?r:e;for(const e of this._validators)if(!(yield e.shouldOpen(o,t)))return!1;for(const r of this._openers){if(yield r.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return _(this,void 0,void 0,(function*(){for(const r of this._resolvers)try{const i=yield r.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(e){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return _(this,void 0,void 0,(function*(){const r="string"==typeof e?l.r.parse(e):e;let i,n;try{i=(yield this.resolveExternalUri(r,t)).resolved}catch(e){i=r}if(n="string"==typeof e&&r.toString()===i.toString()?e:encodeURI(i.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(n,{sourceUri:r,preferredOpenerId:e},o.X.None))return!0}}return this._defaultExternalOpener.openExternal(n,{sourceUri:r},o.X.None)}))}dispose(){this._validators.clear()}};w=g([m(0,a.T),m(1,h.wT)],w)},44345:function(e,t,r){r.d(t,{V:function(){return n}});var i=r(88700),o=r(79359);function n(e,t,r){return new s(e,t,r)}class s extends i.Z6{constructor(e,t,r){super(e,r.keepIdleModels||!1,r.label,t),this._foreignModuleId=r.moduleId,this._foreignModuleCreateData=r.createData||null,this._foreignModuleHost=r.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?o.V0(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const r=(t,r)=>e.fmr(t,r),i=(e,t)=>function(){const r=Array.prototype.slice.call(arguments,0);return t(e,r)},o={};for(const e of t)o[e]=i(e,r);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}},80878:function(e,t,r){r.d(t,{D:function(){return i}});class i{constructor(e,t,r){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=r}static capture(e){let t=null,r=0;if(0!==e.getScrollTop()){const i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);r=e.getScrollTop()-o}}return new i(t,r,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const r=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+r)}}}}]);
