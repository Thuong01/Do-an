!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4582ce45-61b7-4498-9397-ee4ee6a87e74",e._sentryDebugIdIdentifier="sentry-dbid-4582ce45-61b7-4498-9397-ee4ee6a87e74")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[1946],{52851:function(e,t,i){i.r(t),i.d(t,{DragAndDropController:function(){return h}});var n=i(10998),o=i(63339),s=i(50946),r=i(15365),l=i(28061),c=i(93702),a=i(20491);class d{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new l.Q(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new c.L(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new c.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new c.L(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new c.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new c.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function u(e){return o.zx?e.altKey:e.ctrlKey}class h extends n.jG{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(u(e)&&(this._modifierPressed=!0),this._mouseDown&&u(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(u(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===h.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(null===this._dragSelection){const e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}u(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new r.y(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){const e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new c.L(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new c.L(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(u(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(h.ID,new d(this._dragSelection,t,u(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new l.Q(e.lineNumber,e.column,e.lineNumber,e.column),options:h._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}h.ID="editor.contrib.dragAndDrop",h.TRIGGER_KEY_VALUE=o.zx?6:5,h._DECORATION_OPTIONS=a.kI.register({description:"dnd-target",className:"dnd-target"}),(0,s.HW)(h.ID,h)},14583:function(e,t,i){i.d(t,{LC:function(){return v},gW:function(){return w},i9:function(){return S}});var n=i(13338),o=i(78903),s=i(94327),r=i(17954),l=i(27992),c=i(15365),a=i(28061),d=i(12060),u=i(82399),h=i(66726),p=i(64830),g=i(10998),m=i(52230),f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},_=function(e,t){return function(i,n){t(i,n,e)}},b=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{c(n.next(e))}catch(e){s(e)}}function l(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}c((n=n.apply(e,t||[])).next())}))};class y{remove(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let e=0;void 0!==t.children.get(n);e++)n=`${i}_${e}`;return n}static empty(e){return 0===e.children.size}}class v extends y{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class D extends y{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class S extends y{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,i){const r=new o.Q(i),l=new S(t.uri),c=e.ordered(t),a=c.map(((e,i)=>{var n;const o=y.findId(`provider_${i}`,l),c=new D(o,l,null!==(n=e.displayName)&&void 0!==n?n:"Unknown Outline Provider",i);return Promise.resolve(e.provideDocumentSymbols(t,r.token)).then((e=>{for(const t of e||[])S._makeOutlineElement(t,c);return c}),(e=>((0,s.M_)(e),c))).then((e=>{y.empty(e)?e.remove():l._groups.set(o,e)}))})),d=e.onDidChange((()=>{const i=e.ordered(t);(0,n.aI)(i,c)||r.cancel()}));return Promise.all(a).then((()=>r.token.isCancellationRequested&&!i.isCancellationRequested?S.create(e,t,i):l._compact())).finally((()=>{d.dispose()}))}static _makeOutlineElement(e,t){const i=y.findId(e,t),n=new v(i,t,e);if(e.children)for(const t of e.children)S._makeOutlineElement(t,n);t.children.set(n.id,n)}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{const e=r.f.first(this._groups.values());for(const[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof v?e.push(t.symbol):e.push(...r.f.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>a.Q.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return S._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>c.y.compare(a.Q.getStartPosition(e.range),a.Q.getStartPosition(t.range))||c.y.compare(a.Q.getEndPosition(t.range),a.Q.getEndPosition(e.range))))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&S._flattenDocumentSymbols(e,n.children,n.name)}}const w=(0,u.u1)("IOutlineModelService");let P=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new g.Cm,this._cache=new l.qK(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved((e=>{this._cache.delete(e.id)})))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return b(this,void 0,void 0,(function*(){const i=this._languageFeaturesService.documentSymbolProvider,s=i.ordered(e);let r=this._cache.get(e.id);if(!r||r.versionId!==e.getVersionId()||!(0,n.aI)(r.provider,s)){const t=new o.Q;r={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:t,promise:S.create(i,e,t.token),model:void 0},this._cache.set(e.id,r);const n=Date.now();r.promise.then((t=>{r.model=t,this._debounceInformation.update(e,Date.now()-n)})).catch((t=>{this._cache.delete(e.id)}))}if(r.model)return r.model;r.promiseCnt+=1;const l=t.onCancellationRequested((()=>{0==--r.promiseCnt&&(r.source.cancel(),this._cache.delete(e.id))}));try{return yield r.promise}finally{l.dispose()}}))}};P=f([_(0,m.u),_(1,d.U),_(2,p.S)],P),(0,h.v)(w,P,!0)},7706:function(e,t,i){i.r(t),i.d(t,{DropIntoEditorController:function(){return P}});var n=i(65958),o=i(69887),s=i(10998),r=i(53720),l=i(22467),c=i(37264),a=i(42683),d=i(50946),u=i(98769),h=i(28061),p=i(93702),g=i(52230),m=i(62105),f=i(50960),_=i(47039),b=i(3765),y=i(44023),v=i(26851),D=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},S=function(e,t){return function(i,n){t(i,n,e)}},w=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{c(n.next(e))}catch(e){s(e)}}function l(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}c((n=n.apply(e,t||[])).next())}))};let P=class extends s.jG{constructor(e,t,i,n,o){super(),this._bulkEditService=t,this._languageFeaturesService=i,this._progressService=n,this._register(e.onDropIntoEditor((t=>this.onDropIntoEditor(e,t.position,t.event)))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new C(o))}onDropIntoEditor(e,t,i){return w(this,void 0,void 0,(function*(){if(!i.dataTransfer||!e.hasModel())return;const o=e.getModel(),s=o.getVersionId(),r=yield this.extractDataTransferData(i);if(0===r.size)return;if(e.getModel().getVersionId()!==s)return;const l=new m.gI(e,1);try{const i=this._languageFeaturesService.documentOnDropEditProvider.ordered(o),c=yield this._progressService.withProgress({location:15,delay:750,title:(0,b.kg)("dropProgressTitle","Running drop handlers..."),cancellable:!0},(()=>(0,n.PK)((()=>w(this,void 0,void 0,(function*(){for(const e of i){const i=yield e.provideDocumentOnDropEdits(o,t,r,l.token);if(l.token.isCancellationRequested)return;if(i)return i}})))(),l.token)),(()=>{l.cancel()}));if(l.token.isCancellationRequested||e.getModel().getVersionId()!==s)return;if(c){const i=new h.Q(t.lineNumber,t.column,t.lineNumber,t.column);return(0,f.performSnippetEdit)(e,"string"==typeof c.insertText?_.fr.escape(c.insertText):c.insertText.snippet,[p.L.fromRange(i,0)]),void(c.additionalEdit&&(yield this._bulkEditService.apply(u.jN.convert(c.additionalEdit),{editor:e})))}}finally{l.dispose()}}))}extractDataTransferData(e){return w(this,void 0,void 0,(function*(){if(!e.dataTransfer)return new o.Vq;const t=(0,a.q_)(e.dataTransfer);return(0,a.en)(t,e),t}))}};P.ID="editor.contrib.dropIntoEditorController",P=D([S(1,u.nu),S(2,g.u),S(3,y.G5),S(4,v.VR)],P);let C=class{constructor(e){this._workspaceContextService=e}provideDocumentOnDropEdits(e,t,i,n){var o;return w(this,void 0,void 0,(function*(){const e=i.get(r.K.uriList);if(e){const t=yield e.asString(),i=this.getUriListInsertText(t);if(i)return{insertText:i}}const t=null!==(o=i.get("text"))&&void 0!==o?o:i.get(r.K.text);if(t){return{insertText:yield t.asString()}}}))}getUriListInsertText(e){const t=[];for(const i of a.jt.parse(e))try{t.push(c.r.parse(i))}catch(e){}if(t.length)return t.map((e=>{const t=this._workspaceContextService.getWorkspaceFolder(e);if(t){const i=(0,l.iZ)(t.uri,e);if(i)return i}return e.fsPath})).join(" ")}};C=D([S(0,v.VR)],C),(0,d.HW)(P.ID,P)},62105:function(e,t,i){i.d(t,{$t:function(){return f},gI:function(){return _},ER:function(){return b}});var n=i(16844),o=i(28061),s=i(78903),r=i(10998),l=i(50946),c=i(96655),a=i(85525),d=i(82399),u=i(66726),h=i(3765);const p=(0,d.u1)("IEditorCancelService"),g=new c.N1("cancellableOperation",!1,(0,h.kg)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,u.v)(p,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:g.bindTo(e.get(c.fN)),tokens:new a.w}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class m extends s.Q{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get(p).add(e,this)))}dispose(){this._unregister(),super.dispose()}}(0,l.E_)(new class extends l.DX{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(e,t){e.get(p).cancel(t)}});class f{constructor(e,t){if(this.flags=t,1&this.flags){const t=e.getModel();this.modelVersionId=t?n.GP("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;4&this.flags?this.position=e.getPosition():this.position=null,2&this.flags?this.selection=e.getSelection():this.selection=null,8&this.flags?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof f))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new f(e,this.flags))}}class _ extends m{constructor(e,t,i,n){super(e,n),this._listener=new r.Cm,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{i&&o.Q.containsPosition(i,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{i&&o.Q.containsRange(i,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class b extends s.Q{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}}}]);
