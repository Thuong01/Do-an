!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e951a21b-5810-4d4e-a0b1-d9d79b5dcb46",e._sentryDebugIdIdentifier="sentry-dbid-e951a21b-5810-4d4e-a0b1-d9d79b5dcb46")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[5596],{52920:function(e,t,n){n.r(t),n.d(t,{AbstractCaseAction:function(){return K},AbstractDeleteAllToBoundaryAction:function(){return $},AbstractSortLinesAction:function(){return I},DeleteAllLeftAction:function(){return q},DeleteAllRightAction:function(){return W},DeleteDuplicateLinesAction:function(){return O},DeleteLinesAction:function(){return P},DuplicateSelectionAction:function(){return E},IndentLinesAction:function(){return F},InsertLineAfterAction:function(){return V},InsertLineBeforeAction:function(){return B},JoinLinesAction:function(){return z},KebabCaseAction:function(){return G},LowerCaseAction:function(){return Y},SnakeCaseAction:function(){return Z},SortLinesAscendingAction:function(){return M},SortLinesDescendingAction:function(){return A},TitleCaseAction:function(){return X},TransposeAction:function(){return j},TrimTrailingWhitespaceAction:function(){return U},UpperCaseAction:function(){return J}});var i=n(68387),r=n(90612),o=n(50946),s=n(66316),u=n(6031),a=n(96137),l=n(23877),c=n(15365),d=n(28061),g=n(93702),h=n(38122);class m{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const i=[];for(let t=n.startLineNumber;t<=n.endLineNumber;t++)i.push(e.getLineContent(t));const r=i.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new d.Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new d.Q(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new d.Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=n.startLineNumber,t=n.startColumn,i=n.endLineNumber,r=n.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(i+=this._endLineNumberDelta,r=1),n=g.L.createWithDirection(e,t,i,r,this._selectionDirection)}return n}}var p=n(16844),L=n(41672),b=n(49550),f=n(52394),_=n(4548),C=n(70645),N=n(80794),w=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){return function(n,i){t(n,i,e)}};let R=class{constructor(e,t,n,i){this._languageConfigurationService=i,this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const{tabSize:r,indentSize:o,insertSpaces:s}=e.getOptions(),u=this.buildIndentConverter(r,o,s),a={tokenization:{getLineTokens:t=>e.tokenization.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,n)=>e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){const n=i.startLineNumber,r=this._isMovingDown?n+1:n-1;1===e.getLineMaxColumn(r)?t.addEditOperation(new d.Q(1,1,1,1),null):(t.addEditOperation(new d.Q(n,1,n,1),e.getLineContent(r)),t.addEditOperation(new d.Q(r,1,r,e.getLineMaxColumn(r)),null)),i=new g.L(r,1,r,1)}else{let n,o;if(this._isMovingDown){n=i.endLineNumber+1,o=e.getLineContent(n),t.addEditOperation(new d.Q(n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let l=o;if(this.shouldAutoIndent(e,i)){const c=this.matchEnterRule(e,u,r,n,i.startLineNumber-1);if(null!==c){const t=p.UU(e.getLineContent(n)),i=c+_.c(t,r),u=_.k(i,r,s);l=u+this.trimLeft(o)}else{a.getLineContent=t=>t===i.startLineNumber?e.getLineContent(n):e.getLineContent(t);const t=(0,C.$f)(this._autoIndent,a,e.getLanguageIdAtPosition(n,1),i.startLineNumber,u,this._languageConfigurationService);if(null!==t){const i=p.UU(e.getLineContent(n)),u=_.c(t,r);if(u!==_.c(i,r)){const e=_.k(u,r,s);l=e+this.trimLeft(o)}}}t.addEditOperation(new d.Q(i.startLineNumber,1,i.startLineNumber,1),l+"\n");const g=this.matchEnterRuleMovingDown(e,u,r,i.startLineNumber,n,l);if(null!==g)0!==g&&this.getIndentEditsOfMovingBlock(e,t,i,r,s,g);else{a.getLineContent=t=>t===i.startLineNumber?l:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);const o=(0,C.$f)(this._autoIndent,a,e.getLanguageIdAtPosition(n,1),i.startLineNumber+1,u,this._languageConfigurationService);if(null!==o){const n=p.UU(e.getLineContent(i.startLineNumber)),u=_.c(o,r),a=_.c(n,r);if(u!==a){const n=u-a;this.getIndentEditsOfMovingBlock(e,t,i,r,s,n)}}}}else t.addEditOperation(new d.Q(i.startLineNumber,1,i.startLineNumber,1),l+"\n")}else if(n=i.startLineNumber-1,o=e.getLineContent(n),t.addEditOperation(new d.Q(n,1,n+1,1),null),t.addEditOperation(new d.Q(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this.shouldAutoIndent(e,i)){a.getLineContent=t=>t===n?e.getLineContent(i.startLineNumber):e.getLineContent(t);const o=this.matchEnterRule(e,u,r,i.startLineNumber,i.startLineNumber-2);if(null!==o)0!==o&&this.getIndentEditsOfMovingBlock(e,t,i,r,s,o);else{const o=(0,C.$f)(this._autoIndent,a,e.getLanguageIdAtPosition(i.startLineNumber,1),n,u,this._languageConfigurationService);if(null!==o){const n=p.UU(e.getLineContent(i.startLineNumber)),u=_.c(o,r),a=_.c(n,r);if(u!==a){const n=u-a;this.getIndentEditsOfMovingBlock(e,t,i,r,s,n)}}}}}this._selectionId=t.trackSelection(i)}buildIndentConverter(e,t,n){return{shiftIndent:i=>L.Y.shiftIndent(i,i.length+1,e,t,n),unshiftIndent:i=>L.Y.unshiftIndent(i,i.length+1,e,t,n)}}parseEnterResult(e,t,n,i,r){if(r){let o=r.indentation;r.indentAction===b.l.None||r.indentAction===b.l.Indent?o=r.indentation+r.appendText:r.indentAction===b.l.IndentOutdent?o=r.indentation:r.indentAction===b.l.Outdent&&(o=t.unshiftIndent(r.indentation)+r.appendText);const s=e.getLineContent(i);if(this.trimLeft(s).indexOf(this.trimLeft(o))>=0){const r=p.UU(e.getLineContent(i));let s=p.UU(o);const u=(0,C.Yb)(e,i,this._languageConfigurationService);null!==u&&2&u&&(s=t.unshiftIndent(s));return _.c(s,n)-_.c(r,n)}}return null}matchEnterRuleMovingDown(e,t,n,i,r,o){if(p.lT(o)>=0){const o=e.getLineMaxColumn(r),s=(0,N.h)(this._autoIndent,e,new d.Q(r,o,r,o),this._languageConfigurationService);return this.parseEnterResult(e,t,n,i,s)}{let r=i-1;for(;r>=1;){const t=e.getLineContent(r);if(p.lT(t)>=0)break;r--}if(r<1||i>e.getLineCount())return null;const o=e.getLineMaxColumn(r),s=(0,N.h)(this._autoIndent,e,new d.Q(r,o,r,o),this._languageConfigurationService);return this.parseEnterResult(e,t,n,i,s)}}matchEnterRule(e,t,n,i,r,o){let s=r;for(;s>=1;){let t;t=s===r&&void 0!==o?o:e.getLineContent(s);if(p.lT(t)>=0)break;s--}if(s<1||i>e.getLineCount())return null;const u=e.getLineMaxColumn(s),a=(0,N.h)(this._autoIndent,e,new d.Q(s,u,s,u),this._languageConfigurationService);return this.parseEnterResult(e,t,n,i,a)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport}getIndentEditsOfMovingBlock(e,t,n,i,r,o){for(let s=n.startLineNumber;s<=n.endLineNumber;s++){const u=e.getLineContent(s),a=p.UU(u),l=_.c(a,i)+o,c=_.k(l,i,r);c!==a&&(t.addEditOperation(new d.Q(s,1,s,a.length+1),c),s===n.endLineNumber&&n.endColumn<=a.length+1&&""===c&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};R=w([k(3,f.JZ)],R);class x{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return x._COLLATOR||(x._COLLATOR=new Intl.Collator),x._COLLATOR}getEditOperations(e,t){const n=function(e,t,n){const i=S(e,t,n);if(!i)return null;return l.k.replace(new d.Q(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n"))}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(null===e)return!1;const i=S(e,t,n);if(!i)return!1;for(let e=0,t=i.before.length;e<t;e++)if(i.before[e]!==i.after[e])return!0;return!1}}function S(e,t,n){const i=t.startLineNumber;let r=t.endLineNumber;if(1===t.endColumn&&r--,i>=r)return null;const o=[];for(let t=i;t<=r;t++)o.push(e.getLineContent(t));let s=o.slice(0);return s.sort(x.getCollator().compare),!0===n&&(s=s.reverse()),{startLineNumber:i,endLineNumber:r,before:o,after:s}}x._COLLATOR=null;var y=n(3765),D=n(58067);class v extends o.ks{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));n.sort(((e,t)=>d.Q.compareRangesUsingStarts(e.selection,t.selection)));let i=n[0];for(let e=1;e<n.length;e++){const t=n[e];i.selection.endLineNumber===t.selection.startLineNumber&&(i.index<t.index?t.ignore=!0:(i.ignore=!0,i=t))}const r=[];for(const e of n)r.push(new m(e.selection,this.down,e.ignore));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class E extends o.ks{constructor(){super({id:"editor.action.duplicateSelection",label:y.kg("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:h.R.writable,menuOpts:{menuId:D.D8.MenubarSelectionMenu,group:"2_line",title:y.kg({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const i=[],r=t.getSelections(),o=t.getModel();for(const e of r)if(e.isEmpty())i.push(new m(e,!0));else{const t=new g.L(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn);i.push(new s.tA(t,o.getValueInRange(e)))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class T extends o.ks{constructor(e,t){super(t),this.down=e}run(e,t){const n=e.get(f.JZ),i=[],r=t.getSelections()||[],o=t.getOption(9);for(const e of r)i.push(new R(e,this.down,o,n));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class I extends o.ks{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const e of n)if(!x.canRun(t.getModel(),e,this.descending))return;const i=[];for(let e=0,t=n.length;e<t;e++)i[e]=new x(n[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class M extends I{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:y.kg("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:h.R.writable})}}class A extends I{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:y.kg("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:h.R.writable})}}class O extends o.ks{constructor(){super({id:"editor.action.removeDuplicateLines",label:y.kg("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:h.R.writable})}run(e,t){if(!t.hasModel())return;const n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;const i=[],r=[];let o=0;for(const e of t.getSelections()){const t=new Set,s=[];for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const e=n.getLineContent(i);t.has(e)||(s.push(e),t.add(e))}const u=new g.L(e.startLineNumber,1,e.endLineNumber,n.getLineMaxColumn(e.endLineNumber)),a=e.startLineNumber-o,c=new g.L(a,1,a+s.length-1,s[s.length-1].length);i.push(l.k.replace(u,s.join("\n"))),r.push(c),o+=e.endLineNumber-e.startLineNumber+1-s.length}t.pushUndoStop(),t.executeEdits(this.id,i,r),t.pushUndoStop()}}class U extends o.ks{constructor(){super({id:U.ID,label:y.kg("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:(0,i.m5)(2089,2102),weight:100}})}run(e,t,n){let i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map((e=>new c.y(e.positionLineNumber,e.positionColumn))));const r=t.getSelection();if(null===r)return;const o=new u.d(r,i);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop()}}U.ID="editor.action.trimTrailingWhitespace";class P extends o.ks{constructor(){super({id:"editor.action.deleteLines",label:y.kg("lines.delete","Delete Line"),alias:"Delete Line",precondition:h.R.writable,kbOpts:{kbExpr:h.R.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const n=this._getLinesToRemove(t),i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let r=0;const o=[],s=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];let u=t.startLineNumber,a=t.endLineNumber,c=1,d=i.getLineMaxColumn(a);a<i.getLineCount()?(a+=1,d=1):u>1&&(u-=1,c=i.getLineMaxColumn(u)),o.push(l.k.replace(new g.L(u,c,a,d),"")),s.push(new g.L(u-r,t.positionColumn,u-r,t.positionColumn)),r+=t.endLineNumber-t.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,o,s),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));const n=[];let i=t[0];for(let e=1;e<t.length;e++)i.endLineNumber+1>=t[e].startLineNumber?i.endLineNumber=t[e].endLineNumber:(n.push(i),i=t[e]);return n.push(i),n}}class F extends o.ks{constructor(){super({id:"editor.action.indentLines",label:y.kg("lines.indent","Indent Line"),alias:"Indent Line",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,a.TK.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class Q extends o.ks{constructor(){super({id:"editor.action.outdentLines",label:y.kg("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:2135,weight:100}})}run(e,t){r.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}class B extends o.ks{constructor(){super({id:"editor.action.insertLineBefore",label:y.kg("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,a.TK.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class V extends o.ks{constructor(){super({id:"editor.action.insertLineAfter",label:y.kg("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,a.TK.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class $ extends o.ks{run(e,t){if(!t.hasModel())return;const n=t.getSelection(),i=this._getRangesToDelete(t),r=[];for(let e=0,t=i.length-1;e<t;e++){const t=i[e],n=i[e+1];null===d.Q.intersectRanges(t,n)?r.push(t):i[e+1]=d.Q.plusRange(t,n)}r.push(i[i.length-1]);const o=this._getEndCursorState(n,r),s=r.map((e=>l.k.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,s,o),t.pushUndoStop()}}class q extends ${constructor(){super({id:"deleteAllLeft",label:y.kg("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:h.R.writable,kbOpts:{kbExpr:h.R.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null;const i=[];let r=0;return t.forEach((t=>{let o;if(1===t.endColumn&&r>0){const e=t.startLineNumber-r;o=new g.L(e,t.startColumn,e,t.startColumn)}else o=new g.L(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);r+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=o:i.push(o)})),n&&i.unshift(n),i}_getRangesToDelete(e){const t=e.getSelections();if(null===t)return[];let n=t;const i=e.getModel();return null===i?[]:(n.sort(d.Q.compareRangesUsingStarts),n=n.map((e=>{if(e.isEmpty()){if(1===e.startColumn){const t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new d.Q(t,n,e.startLineNumber,1)}return new d.Q(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new d.Q(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),n)}}class W extends ${constructor(){super({id:"deleteAllRight",label:y.kg("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:h.R.writable,kbOpts:{kbExpr:h.R.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null;const i=[];for(let r=0,o=t.length,s=0;r<o;r++){const o=t[r],u=new g.L(o.startLineNumber-s,o.startColumn,o.startLineNumber-s,o.startColumn);o.intersectRanges(e)?n=u:i.push(u)}return n&&i.unshift(n),i}_getRangesToDelete(e){const t=e.getModel();if(null===t)return[];const n=e.getSelections();if(null===n)return[];const i=n.map((e=>{if(e.isEmpty()){const n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new d.Q(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new d.Q(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return i.sort(d.Q.compareRangesUsingStarts),i}}class z extends o.ks{constructor(){super({id:"editor.action.joinLines",label:y.kg("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const n=t.getSelections();if(null===n)return;let i=t.getSelection();if(null===i)return;n.sort(d.Q.compareRangesUsingStarts);const r=[],o=n.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(r.push(e),t):new g.L(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(r.push(e),t):new g.L(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));r.push(o);const s=t.getModel();if(null===s)return;const u=[],a=[];let c=i,h=0;for(let e=0,t=r.length;e<t;e++){const t=r[e],n=t.startLineNumber,o=1;let m,p,L=0;const b=s.getLineContent(t.endLineNumber).length-t.endColumn;if(t.isEmpty()||t.startLineNumber===t.endLineNumber){const e=t.getStartPosition();e.lineNumber<s.getLineCount()?(m=n+1,p=s.getLineMaxColumn(m)):(m=e.lineNumber,p=s.getLineMaxColumn(e.lineNumber))}else m=t.endLineNumber,p=s.getLineMaxColumn(m);let f=s.getLineContent(n);for(let e=n+1;e<=m;e++){const t=s.getLineContent(e),n=s.getLineFirstNonWhitespaceColumn(e);if(n>=1){let e=!0;""===f&&(e=!1),!e||" "!==f.charAt(f.length-1)&&"\t"!==f.charAt(f.length-1)||(e=!1,f=f.replace(/[\s\uFEFF\xA0]+$/g," "));const i=t.substr(n-1);f+=(e?" ":"")+i,L=e?i.length+1:i.length}else L=0}const _=new d.Q(n,o,m,p);if(!_.isEmpty()){let e;t.isEmpty()?(u.push(l.k.replace(_,f)),e=new g.L(_.startLineNumber-h,f.length-L+1,n-h,f.length-L+1)):t.startLineNumber===t.endLineNumber?(u.push(l.k.replace(_,f)),e=new g.L(t.startLineNumber-h,t.startColumn,t.endLineNumber-h,t.endColumn)):(u.push(l.k.replace(_,f)),e=new g.L(t.startLineNumber-h,t.startColumn,t.startLineNumber-h,f.length-b)),null!==d.Q.intersectRanges(_,i)?c=e:a.push(e)}h+=_.endLineNumber-_.startLineNumber}a.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,u,a),t.pushUndoStop()}}class j extends o.ks{constructor(){super({id:"editor.action.transpose",label:y.kg("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:h.R.writable})}run(e,t){const n=t.getSelections();if(null===n)return;const i=t.getModel();if(null===i)return;const r=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];if(!t.isEmpty())continue;const o=t.getStartPosition(),u=i.getLineMaxColumn(o.lineNumber);if(o.column>=u){if(o.lineNumber===i.getLineCount())continue;const e=new d.Q(o.lineNumber,Math.max(1,o.column-1),o.lineNumber+1,1),t=i.getValueInRange(e).split("").reverse().join("");r.push(new s.iu(new g.L(o.lineNumber,Math.max(1,o.column-1),o.lineNumber+1,1),t))}else{const e=new d.Q(o.lineNumber,Math.max(1,o.column-1),o.lineNumber,o.column+1),t=i.getValueInRange(e).split("").reverse().join("");r.push(new s.ui(e,t,new g.L(o.lineNumber,o.column+1,o.lineNumber,o.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class K extends o.ks{run(e,t){const n=t.getSelections();if(null===n)return;const i=t.getModel();if(null===i)return;const r=t.getOption(119),o=[];for(const e of n)if(e.isEmpty()){const n=e.getStartPosition(),s=t.getConfiguredWordAtPosition(n);if(!s)continue;const u=new d.Q(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn),a=i.getValueInRange(u);o.push(l.k.replace(u,this._modifyText(a,r)))}else{const t=i.getValueInRange(e);o.push(l.k.replace(e,this._modifyText(t,r)))}t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop()}}class J extends K{constructor(){super({id:"editor.action.transformToUppercase",label:y.kg("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:h.R.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class Y extends K{constructor(){super({id:"editor.action.transformToLowercase",label:y.kg("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:h.R.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class H{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class X extends K{constructor(){super({id:"editor.action.transformToTitlecase",label:y.kg("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:h.R.writable})}_modifyText(e,t){const n=X.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,(e=>e.toLocaleUpperCase())):e}}X.titleBoundary=new H("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Z extends K{constructor(){super({id:"editor.action.transformToSnakecase",label:y.kg("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:h.R.writable})}_modifyText(e,t){const n=Z.caseBoundary.get(),i=Z.singleLetters.get();return n&&i?e.replace(n,"$1_$2").replace(i,"$1_$2$3").toLocaleLowerCase():e}}Z.caseBoundary=new H("(\\p{Ll})(\\p{Lu})","gmu"),Z.singleLetters=new H("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class G extends K{constructor(){super({id:"editor.action.transformToKebabcase",label:y.kg("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:h.R.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((e=>e.isSupported()))}_modifyText(e,t){const n=G.caseBoundary.get(),i=G.singleLetters.get(),r=G.underscoreBoundary.get();return n&&i&&r?e.replace(r,"$1-$3").replace(n,"$1-$2").replace(i,"$1-$2").toLocaleLowerCase():e}}G.caseBoundary=new H("(\\p{Ll})(\\p{Lu})","gmu"),G.singleLetters=new H("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),G.underscoreBoundary=new H("(\\S)(_)(\\S)","gm"),(0,o.Fl)(class extends v{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:y.kg("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:D.D8.MenubarSelectionMenu,group:"2_line",title:y.kg({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,o.Fl)(class extends v{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:y.kg("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:D.D8.MenubarSelectionMenu,group:"2_line",title:y.kg({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,o.Fl)(E),(0,o.Fl)(class extends T{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:y.kg("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:D.D8.MenubarSelectionMenu,group:"2_line",title:y.kg({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,o.Fl)(class extends T{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:y.kg("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:h.R.writable,kbOpts:{kbExpr:h.R.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:D.D8.MenubarSelectionMenu,group:"2_line",title:y.kg({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,o.Fl)(M),(0,o.Fl)(A),(0,o.Fl)(O),(0,o.Fl)(U),(0,o.Fl)(P),(0,o.Fl)(F),(0,o.Fl)(Q),(0,o.Fl)(B),(0,o.Fl)(V),(0,o.Fl)(q),(0,o.Fl)(W),(0,o.Fl)(z),(0,o.Fl)(j),(0,o.Fl)(J),(0,o.Fl)(Y),Z.caseBoundary.isSupported()&&Z.singleLetters.isSupported()&&(0,o.Fl)(Z),X.titleBoundary.isSupported()&&(0,o.Fl)(X),G.isSupported()&&(0,o.Fl)(G)},85624:function(e,t,n){n.r(t),n.d(t,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return v},LinkedEditingAction:function(){return I},LinkedEditingContribution:function(){return T},editorLinkedEditingBackground:function(){return O}});var i=n(13338),r=n(65958),o=n(78903),s=n(94901),u=n(94327),a=n(2106),l=n(10998),c=n(16844),d=n(37264),g=n(50946),h=n(87301),m=n(15365),p=n(28061),L=n(38122),b=n(20491),f=n(52394),_=n(3765),C=n(96655),N=n(4874),w=n(89044),k=n(52230),R=n(12060),x=n(23013),S=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},y=function(e,t){return function(n,i){t(n,i,e)}},D=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function u(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((i=i.apply(e,t||[])).next())}))};const v=new C.N1("LinkedEditingInputVisible",!1),E="linked-editing-decoration";let T=class e extends l.jG{constructor(e,t,n,i,r){super(),this.languageConfigurationService=i,this._syncRangesToken=0,this._localToDispose=this._register(new l.Cm),this._editor=e,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=v.bindTo(t),this._debounceInformation=r.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new l.Cm),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(64)||e.hasChanged(84))&&this.reinitialize(!1)}))),this._register(this._providers.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),n=null!==t&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(t);if(n===this._enabled&&!e)return;if(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===t)return;this._localToDispose.add(a.Jh.runAndSubscribe(t.onDidChangeLanguageConfiguration,(()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()})));const i=new r.ve(this._debounceInformation.get(t)),o=()=>{var e;this._rangeUpdateTriggerPromise=i.trigger((()=>this.updateRanges()),null!==(e=this._debounceDuration)&&void 0!==e?e:this._debounceInformation.get(t))},s=new r.ve(0),u=e=>{this._rangeSyncTriggerPromise=s.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{o()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const t=this._currentDecorations.getRange(0);if(t&&e.changes.every((e=>t.intersectRanges(e.range))))return void u(this._syncRangesToken)}o()}))),this._localToDispose.add({dispose:()=>{i.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||0===this._currentDecorations.length)return;const t=this._editor.getModel(),n=this._currentDecorations.getRange(0);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const i=t.getValueInRange(n);if(this._currentWordPattern){const e=i.match(this._currentWordPattern);if((e?e[0].length:0)!==i.length)return this.clearRanges()}const r=[];for(let e=1,n=this._currentDecorations.length;e<n;e++){const n=this._currentDecorations.getRange(e);if(n)if(n.startLineNumber!==n.endLineNumber)r.push({range:n,text:i});else{let e=t.getValueInRange(n),o=i,s=n.startColumn,u=n.endColumn;const a=c.Qp(e,o);s+=a,e=e.substr(a),o=o.substr(a);const l=c.Vi(e,o);u-=l,e=e.substr(0,e.length-l),o=o.substr(0,o.length-l),s===u&&0===o.length||r.push({range:new p.Q(n.startLineNumber,s,n.endLineNumber,u),text:o})}}if(0!==r.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return D(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const n=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=o;const s=(0,r.SS)((t=>D(this,void 0,void 0,(function*(){try{const r=new x.W(!1),u=yield A(this._providers,i,n,t);if(this._debounceInformation.update(i,r.elapsed()),s!==this._currentRequest)return;if(this._currentRequest=null,o!==i.getVersionId())return;let a=[];(null==u?void 0:u.ranges)&&(a=u.ranges),this._currentWordPattern=(null==u?void 0:u.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(p.Q.containsPosition(a[e],n)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const c=a.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations.set(c),this._syncRangesToken++}catch(e){(0,u.MB)(e)||(0,u.dz)(e),this._currentRequest!==s&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=s,s}))}};T.ID="editor.contrib.linkedEditing",T.DECORATION=b.kI.register({description:"linked-editing",stickiness:0,className:E}),T=S([y(1,C.fN),y(2,k.u),y(3,f.JZ),y(4,R.U)],T);class I extends g.ks{constructor(){super({id:"editor.action.linkedEditing",label:_.kg("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:C.M$.and(L.R.writable,L.R.hasRenameProvider),kbOpts:{kbExpr:L.R.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(h.T),[i,r]=Array.isArray(t)&&t||[void 0,void 0];return d.r.isUri(i)&&m.y.isIPosition(r)?n.openCodeEditor({resource:i},n.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(r),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),u.dz):super.runCommand(e,t)}run(e,t){const n=T.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const M=g.DX.bindToContribution(T.get);function A(e,t,n,o){const s=e.ordered(t);return(0,r.$1)(s.map((e=>()=>D(this,void 0,void 0,(function*(){try{return yield e.provideLinkedEditingRanges(t,n,o)}catch(e){return void(0,u.M_)(e)}})))),(e=>!!e&&i.EI(null==e?void 0:e.ranges)))}(0,g.E_)(new M({id:"cancelLinkedEditingInput",precondition:v,handler:e=>e.clearRanges(),kbOpts:{kbExpr:L.R.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const O=(0,N.x1A)("editor.linkedEditingBackground",{dark:s.Q1.fromHex("#f00").transparent(.3),light:s.Q1.fromHex("#f00").transparent(.3),hcDark:s.Q1.fromHex("#f00").transparent(.3),hcLight:s.Q1.white},_.kg("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,w.zy)(((e,t)=>{const n=e.getColor(O);n&&t.addRule(`.monaco-editor .${E} { background: ${n}; border-left-color: ${n}; }`)})),(0,g.ke)("_executeLinkedEditingProvider",((e,t,n)=>{const{linkedEditingRangeProvider:i}=e.get(k.u);return A(i,t,n,o.X.None)})),(0,g.HW)(T.ID,T),(0,g.Fl)(I)}}]);
