!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="1673b33a-1498-4570-9ca4-d756eb5136d0",t._sentryDebugIdIdentifier="sentry-dbid-1673b33a-1498-4570-9ca4-d756eb5136d0")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[7787],{95095:function(t,e,i){i.d(e,{x:function(){return a}});var s=i(14333),o=i(98315),n=i(71386),r=i(3765);const l=s.$;class a{constructor(t,e,i){this.os=e,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=s.BC(t,l(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,e){this.didEverRender&&this.keybinding===t&&a.areSame(this.matches,e)||(this.keybinding=t,this.matches=e,this.render())}render(){if(this.clear(),this.keybinding){const[t,e]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),e&&(s.BC(this.domNode,l("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,e,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){s.w_(this.domNode),this.keyElements.clear()}renderPart(t,e,i){const s=o.Of.modifierLabels[this.os];e.ctrlKey&&this.renderKey(t,s.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),s.separator),e.shiftKey&&this.renderKey(t,s.shiftKey,Boolean(null==i?void 0:i.shiftKey),s.separator),e.altKey&&this.renderKey(t,s.altKey,Boolean(null==i?void 0:i.altKey),s.separator),e.metaKey&&this.renderKey(t,s.metaKey,Boolean(null==i?void 0:i.metaKey),s.separator);const n=e.keyLabel;n&&this.renderKey(t,n,Boolean(null==i?void 0:i.keyCode),"")}renderKey(t,e,i,o){s.BC(t,this.createKeyElement(e,i?".highlight":"")),o&&s.BC(t,l("span.monaco-keybinding-key-separator",void 0,o))}renderUnbound(t){s.BC(t,this.createKeyElement((0,r.kg)("unbound","Unbound")))}createKeyElement(t,e=""){const i=l("span.monaco-keybinding-key"+e,void 0,t);return this.keyElements.add(i),i}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const e of this.keyElements)this.labelBackground&&(e.style.backgroundColor=null===(t=this.labelBackground)||void 0===t?void 0:t.toString()),this.labelBorder&&(e.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(e.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(e.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,e){return t===e||!t&&!e||!!t&&!!e&&(0,n.aI)(t.firstPart,e.firstPart)&&(0,n.aI)(t.chordPart,e.chordPart)}}},33697:function(t,e,i){i.d(e,{Y:function(){return h}});var s=i(13338),o=i(78903),n=i(2106),r=i(10998),l=i(67954);class a{constructor(t,e){this.renderer=t,this.modelProvider=e}get templateId(){return this.renderer.templateId}renderTemplate(t){return{data:this.renderer.renderTemplate(t),disposable:r.jG.None}}renderElement(t,e,i,s){if(i.disposable&&i.disposable.dispose(),!i.data)return;const n=this.modelProvider();if(n.isResolved(t))return this.renderer.renderElement(n.get(t),t,i.data,s);const r=new o.Q,l=n.resolve(t,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(t,i.data),l.then((e=>this.renderer.renderElement(e,t,i.data,s)))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)}}class c{constructor(t,e){this.modelProvider=t,this.accessibilityProvider=e}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(t){const e=this.modelProvider();return e.isResolved(t)?this.accessibilityProvider.getAriaLabel(e.get(t)):null}}class h{constructor(t,e,i,s,o={}){const n=()=>this.model,r=s.map((t=>new a(t,n)));this.list=new l.B8(t,e,i,r,function(t,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new c(t,e.accessibilityProvider)})}(n,o))}updateOptions(t){this.list.updateOptions(t)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return n.Jh.map(this.list.onMouseDblClick,(({element:t,index:e,browserEvent:i})=>({element:void 0===t?void 0:this._model.get(t),index:e,browserEvent:i})))}get onPointer(){return n.Jh.map(this.list.onPointer,(({element:t,index:e,browserEvent:i})=>({element:void 0===t?void 0:this._model.get(t),index:e,browserEvent:i})))}get onDidChangeSelection(){return n.Jh.map(this.list.onDidChangeSelection,(({elements:t,indexes:e,browserEvent:i})=>({elements:t.map((t=>this._model.get(t))),indexes:e,browserEvent:i})))}get model(){return this._model}set model(t){this._model=t,this.list.splice(0,this.list.length,(0,s.y1)(t.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((t=>this.model.get(t)))}style(t){this.list.style(t)}dispose(){this.list.dispose()}}},83022:function(t,e,i){i.d(e,{ur:function(){return S},uO:function(){return k}});var s=i(55893),o=i(39587),n=i(14333),r=i(34061),l=i(30474),a=i(63781),c=i(13338),h=i(65958),d=i(88846),u=i(2106),m=i(10998),p=i(82199),g=i(94513);function b(t,e){const i=[];for(const s of e){if(t.start>=s.range.end)continue;if(t.end<s.range.start)break;const e=p.Q.intersect(t,s.range);p.Q.isEmpty(e)||i.push({range:e,size:s.size})}return i}function v({start:t,end:e},i){return{start:t+i,end:e+i}}class f{constructor(){this.groups=[],this._size=0}splice(t,e,i=[]){const s=i.length-e,o=b({start:0,end:t},this.groups),n=b({start:t+e,end:Number.POSITIVE_INFINITY},this.groups).map((t=>({range:v(t.range,s),size:t.size}))),r=i.map(((e,i)=>({range:{start:t+i,end:t+i+1},size:e.size})));this.groups=function(...t){return function(t){const e=[];let i=null;for(const s of t){const t=s.range.start,o=s.range.end,n=s.size;i&&n===i.size?i.range.end=o:(i={range:{start:t,end:o},size:n},e.push(i))}return e}(t.reduce(((t,e)=>t.concat(e)),[]))}(o,r,n),this._size=this.groups.reduce(((t,e)=>t+e.size*(e.range.end-e.range.start)),0)}get count(){const t=this.groups.length;return t?this.groups[t-1].range.end:0}get size(){return this._size}indexAt(t){if(t<0)return-1;let e=0,i=0;for(const s of this.groups){const o=s.range.end-s.range.start,n=i+o*s.size;if(t<n)return e+Math.floor((t-i)/s.size);e+=o,i=n}return e}indexAfter(t){return Math.min(this.indexAt(t)+1,this.count)}positionAt(t){if(t<0)return-1;let e=0,i=0;for(const s of this.groups){const o=s.range.end-s.range.start,n=i+o;if(t<n)return e+(t-i)*s.size;e+=o*s.size,i=n}return-1}}class w{constructor(t){this.renderers=t,this.cache=new Map}alloc(t){let e=this.getTemplateCache(t).pop();if(!e){const i=(0,n.$)(".monaco-list-row");e={domNode:i,templateId:t,templateData:this.getRenderer(t).renderTemplate(i)}}return e}release(t){t&&this.releaseRow(t)}releaseRow(t){const{domNode:e,templateId:i}=t;e&&(e.classList.remove("scrolling"),function(t){var e;try{null===(e=t.parentElement)||void 0===e||e.removeChild(t)}catch(t){}}(e));this.getTemplateCache(i).push(t)}getTemplateCache(t){let e=this.cache.get(t);return e||(e=[],this.cache.set(t,e)),e}dispose(){this.cache.forEach(((t,e)=>{for(const i of t){this.getRenderer(e).disposeTemplate(i.templateData),i.templateData=null}})),this.cache.clear()}getRenderer(t){const e=this.renderers.get(t);if(!e)throw new Error(`No renderer found for ${t}`);return e}}var y=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const D={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(t){return[t]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class S{constructor(t){this.elements=t}update(){}getData(){return this.elements}}class x{constructor(t){this.elements=t}update(){}getData(){return this.elements}}class E{constructor(){this.types=[],this.files=[]}update(t){if(t.types&&this.types.splice(0,this.types.length,...t.types),t.files){this.files.splice(0,this.files.length);for(let e=0;e<t.files.length;e++){const i=t.files.item(e);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class C{constructor(t){(null==t?void 0:t.getSetSize)?this.getSetSize=t.getSetSize.bind(t):this.getSetSize=(t,e,i)=>i,(null==t?void 0:t.getPosInSet)?this.getPosInSet=t.getPosInSet.bind(t):this.getPosInSet=(t,e)=>e+1,(null==t?void 0:t.getRole)?this.getRole=t.getRole.bind(t):this.getRole=t=>"listitem",(null==t?void 0:t.isChecked)?this.isChecked=t.isChecked.bind(t):this.isChecked=t=>{}}}class k{constructor(t,e,i,s=D){var o,r,c,d,p,b,v,y,S,x;if(this.virtualDelegate=e,this.domId="list_id_"+ ++k.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new h.ve(50),this.splicing=!1,this.dragOverAnimationStopDisposable=m.jG.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=m.jG.None,this.onDragLeaveTimeout=m.jG.None,this.disposables=new m.Cm,this._onDidChangeContentHeight=new u.vl,this._horizontalScrolling=!1,s.horizontalScrolling&&s.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new f;for(const t of i)this.renderers.set(t.templateId,t);this.cache=this.disposables.add(new w(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof s.mouseSupport||s.mouseSupport),this._horizontalScrolling=null!==(o=s.horizontalScrolling)&&void 0!==o?o:D.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===s.additionalScrollHeight?0:s.additionalScrollHeight,this.accessibilityProvider=new C(s.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";(null!==(r=s.transformOptimization)&&void 0!==r?r:D.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(l.q.addTarget(this.rowsContainer)),this.scrollable=new g.yE({forceIntegerValues:!0,smoothScrollDuration:null!==(c=s.smoothScrolling)&&void 0!==c&&c?125:0,scheduleAtNextAnimationFrame:t=>(0,n.PG)(t)}),this.scrollableElement=this.disposables.add(new a.oO(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(d=s.alwaysConsumeMouseWheel)&&void 0!==d?d:D.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(p=s.verticalScrollMode)&&void 0!==p?p:D.verticalScrollMode,useShadows:null!==(b=s.useShadows)&&void 0!==b?b:D.useShadows,mouseWheelScrollSensitivity:s.mouseWheelScrollSensitivity,fastScrollSensitivity:s.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),t.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,n.ko)(this.rowsContainer,l.B.Change,(t=>this.onTouchChange(t)))),this.disposables.add((0,n.ko)(this.scrollableElement.getDomNode(),"scroll",(t=>t.target.scrollTop=0))),this.disposables.add((0,n.ko)(this.domNode,"dragover",(t=>this.onDragOver(this.toDragEvent(t))))),this.disposables.add((0,n.ko)(this.domNode,"drop",(t=>this.onDrop(this.toDragEvent(t))))),this.disposables.add((0,n.ko)(this.domNode,"dragleave",(t=>this.onDragLeave(this.toDragEvent(t))))),this.disposables.add((0,n.ko)(this.domNode,"dragend",(t=>this.onDragEnd(t)))),this.setRowLineHeight=null!==(v=s.setRowLineHeight)&&void 0!==v?v:D.setRowLineHeight,this.setRowHeight=null!==(y=s.setRowHeight)&&void 0!==y?y:D.setRowHeight,this.supportDynamicHeights=null!==(S=s.supportDynamicHeights)&&void 0!==S?S:D.supportDynamicHeights,this.dnd=null!==(x=s.dnd)&&void 0!==x?x:D.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(t){if(t!==this._horizontalScrolling){if(t&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=t,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,n.y6)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(t){void 0!==t.additionalScrollHeight&&(this.additionalScrollHeight=t.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==t.smoothScrolling&&this.scrollable.setSmoothScrollDuration(t.smoothScrolling?125:0),void 0!==t.horizontalScrolling&&(this.horizontalScrolling=t.horizontalScrolling),void 0!==t.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:t.mouseWheelScrollSensitivity}),void 0!==t.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:t.fastScrollSensitivity})}splice(t,e,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(t,e,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(t,e,i=[]){const s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:t,end:t+e},n=p.Q.intersect(s,o),r=new Map;for(let t=n.end-1;t>=n.start;t--){const e=this.items[t];if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let i=r.get(e.templateId);i||(i=[],r.set(e.templateId,i));const s=this.renderers.get(e.templateId);s&&s.disposeElement&&s.disposeElement(e.element,t,e.row.templateData,e.size),i.push(e.row)}e.row=null}const l={start:t+e,end:this.items.length},a=p.Q.intersect(l,s),c=p.Q.relativeComplement(l,s),h=i.map((t=>({id:String(this.itemId++),element:t,templateId:this.virtualDelegate.getTemplateId(t),size:this.virtualDelegate.getHeight(t),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(t),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:m.jG.None,checkedDisposable:m.jG.None})));let d;0===t&&e>=this.items.length?(this.rangeMap=new f,this.rangeMap.splice(0,0,h),d=this.items,this.items=h):(this.rangeMap.splice(t,e,h),d=this.items.splice(t,e,...h));const u=i.length-e,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=v(a,u),w=p.Q.intersect(g,b);for(let t=w.start;t<w.end;t++)this.updateItemInDOM(this.items[t],t);const y=p.Q.relativeComplement(b,g);for(const t of y)for(let e=t.start;e<t.end;e++)this.removeItemFromDOM(e);const D=c.map((t=>v(t,u))),S=[{start:t,end:t+i.length},...D].map((t=>p.Q.intersect(g,t))),x=this.getNextToLastElement(S);for(const t of S)for(let e=t.start;e<t.end;e++){const t=this.items[e],i=r.get(t.templateId),s=null==i?void 0:i.pop();this.insertItemInDOM(e,x,s)}for(const t of r.values())for(const e of t)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),d.map((t=>t.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,n.PG)((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let t=0;for(const e of this.items)void 0!==e.width&&(t=Math.max(t,e.width));this.scrollWidth=t,this.scrollableElement.setScrollDimensions({scrollWidth:0===t?0:t+10})}rerender(){if(this.supportDynamicHeights){for(const t of this.items)t.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(t){return this.items[t].element}domElement(t){const e=this.items[t].row;return e&&e.domNode}elementHeight(t){return this.items[t].size}elementTop(t){return this.rangeMap.positionAt(t)}indexAt(t){return this.rangeMap.indexAt(t)}indexAfter(t){return this.rangeMap.indexAfter(t)}layout(t,e){const i={height:"number"==typeof t?t:(0,n.H4)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==e&&(this.renderWidth=e,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof e?e:(0,n.y6)(this.domNode)})}render(t,e,i,s,o,n=!1){const r=this.getRenderRange(e,i),l=p.Q.relativeComplement(r,t),a=p.Q.relativeComplement(t,r),c=this.getNextToLastElement(l);if(n){const e=p.Q.intersect(t,r);for(let t=e.start;t<e.end;t++)this.updateItemInDOM(this.items[t],t)}for(const t of l)for(let e=t.start;e<t.end;e++)this.insertItemInDOM(e,c);for(const t of a)for(let e=t.start;e<t.end;e++)this.removeItemFromDOM(e);void 0!==s&&(this.rowsContainer.style.left=`-${s}px`),this.rowsContainer.style.top=`-${e}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=e,this.lastRenderHeight=i}insertItemInDOM(t,e,i){const s=this.items[t];s.row||(s.row=null!=i?i:this.cache.alloc(s.templateId));const o=this.accessibilityProvider.getRole(s.element)||"listitem";s.row.domNode.setAttribute("role",o);const r=this.accessibilityProvider.isChecked(s.element);if("boolean"==typeof r)s.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){const t=t=>s.row.domNode.setAttribute("aria-checked",String(!!t));t(r.value),s.checkedDisposable=r.onDidChange(t)}s.row.domNode.parentElement||(e?this.rowsContainer.insertBefore(s.row.domNode,e):this.rowsContainer.appendChild(s.row.domNode)),this.updateItemInDOM(s,t);const l=this.renderers.get(s.templateId);if(!l)throw new Error(`No renderer found for template id ${s.templateId}`);null==l||l.renderElement(s.element,t,s.row.templateData,s.size);const a=this.dnd.getDragURI(s.element);s.dragStartDisposable.dispose(),s.row.domNode.draggable=!!a,a&&(s.dragStartDisposable=(0,n.ko)(s.row.domNode,"dragstart",(t=>this.onDragStart(s.element,a,t)))),this.horizontalScrolling&&(this.measureItemWidth(s),this.eventuallyUpdateScrollWidth())}measureItemWidth(t){if(!t.row||!t.row.domNode)return;t.row.domNode.style.width=s.isFirefox?"-moz-fit-content":"fit-content",t.width=(0,n.y6)(t.row.domNode);const e=window.getComputedStyle(t.row.domNode);e.paddingLeft&&(t.width+=parseFloat(e.paddingLeft)),e.paddingRight&&(t.width+=parseFloat(e.paddingRight)),t.row.domNode.style.width=""}updateItemInDOM(t,e){t.row.domNode.style.top=`${this.elementTop(e)}px`,this.setRowHeight&&(t.row.domNode.style.height=`${t.size}px`),this.setRowLineHeight&&(t.row.domNode.style.lineHeight=`${t.size}px`),t.row.domNode.setAttribute("data-index",`${e}`),t.row.domNode.setAttribute("data-last-element",e===this.length-1?"true":"false"),t.row.domNode.setAttribute("data-parity",e%2==0?"even":"odd"),t.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t.element,e,this.length))),t.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t.element,e))),t.row.domNode.setAttribute("id",this.getElementDomId(e)),t.row.domNode.classList.toggle("drop-target",t.dropTarget)}removeItemFromDOM(t){const e=this.items[t];if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){const i=this.renderers.get(e.templateId);i&&i.disposeElement&&i.disposeElement(e.element,t,e.row.templateData,e.size),this.cache.release(e.row),e.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(t,e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:t,reuseAnimation:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(t){this.setScrollTop(t)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return u.Jh.map(this.disposables.add(new r.f(this.domNode,"click")).event,(t=>this.toMouseEvent(t)),this.disposables)}get onMouseDblClick(){return u.Jh.map(this.disposables.add(new r.f(this.domNode,"dblclick")).event,(t=>this.toMouseEvent(t)),this.disposables)}get onMouseMiddleClick(){return u.Jh.filter(u.Jh.map(this.disposables.add(new r.f(this.domNode,"auxclick")).event,(t=>this.toMouseEvent(t)),this.disposables),(t=>1===t.browserEvent.button),this.disposables)}get onMouseDown(){return u.Jh.map(this.disposables.add(new r.f(this.domNode,"mousedown")).event,(t=>this.toMouseEvent(t)),this.disposables)}get onMouseOver(){return u.Jh.map(this.disposables.add(new r.f(this.domNode,"mouseover")).event,(t=>this.toMouseEvent(t)),this.disposables)}get onContextMenu(){return u.Jh.any(u.Jh.map(this.disposables.add(new r.f(this.domNode,"contextmenu")).event,(t=>this.toMouseEvent(t)),this.disposables),u.Jh.map(this.disposables.add(new r.f(this.domNode,l.B.Contextmenu)).event,(t=>this.toGestureEvent(t)),this.disposables))}get onTouchStart(){return u.Jh.map(this.disposables.add(new r.f(this.domNode,"touchstart")).event,(t=>this.toTouchEvent(t)),this.disposables)}get onTap(){return u.Jh.map(this.disposables.add(new r.f(this.rowsContainer,l.B.Tap)).event,(t=>this.toGestureEvent(t)),this.disposables)}toMouseEvent(t){const e=this.getItemIndexFromEventTarget(t.target||null),i=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}}toTouchEvent(t){const e=this.getItemIndexFromEventTarget(t.target||null),i=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}}toGestureEvent(t){const e=this.getItemIndexFromEventTarget(t.initialTarget||null),i=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}}toDragEvent(t){const e=this.getItemIndexFromEventTarget(t.target||null),i=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}}onScroll(t){try{const e=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(e,t.scrollTop,t.height,t.scrollLeft,t.scrollWidth),this.supportDynamicHeights&&this._rerender(t.scrollTop,t.height,t.inSmoothScrolling)}catch(e){throw console.error("Got bad scroll event:",t),e}}onTouchChange(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY}onDragStart(t,e,i){var s,r;if(!i.dataTransfer)return;const l=this.dnd.getDragElements(t);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(o.t.TEXT,e),i.dataTransfer.setDragImage){let t;this.dnd.getDragLabel&&(t=this.dnd.getDragLabel(l,i)),void 0===t&&(t=String(l.length));const e=(0,n.$)(".monaco-drag-image");e.textContent=t,document.body.appendChild(e),i.dataTransfer.setDragImage(e,-10,-10),setTimeout((()=>document.body.removeChild(e)),0)}this.currentDragData=new S(l),o.M.CurrentDragAndDropData=new x(l),null===(r=(s=this.dnd).onDragStart)||void 0===r||r.call(s,this.currentDragData,i)}onDragOver(t){var e;if(t.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),o.M.CurrentDragAndDropData&&"vscode-ui"===o.M.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(t.browserEvent),!t.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(o.M.CurrentDragAndDropData)this.currentDragData=o.M.CurrentDragAndDropData;else{if(!t.browserEvent.dataTransfer.types)return!1;this.currentDragData=new E}const i=this.dnd.onDragOver(this.currentDragData,t.element,t.index,t.browserEvent);if(this.canDrop="boolean"==typeof i?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let s;if(t.browserEvent.dataTransfer.dropEffect="boolean"!=typeof i&&0===i.effect?"copy":"move",s="boolean"!=typeof i&&i.feedback?i.feedback:void 0===t.index?[-1]:[t.index],s=(0,c.dM)(s).filter((t=>t>=-1&&t<this.length)).sort(((t,e)=>t-e)),s=-1===s[0]?[-1]:s,n=this.currentDragFeedback,r=s,Array.isArray(n)&&Array.isArray(r)?(0,c.aI)(n,r):n===r)return!0;var n,r;if(this.currentDragFeedback=s,this.currentDragFeedbackDisposable.dispose(),-1===s[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,m.s)((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const t of s){const i=this.items[t];i.dropTarget=!0,null===(e=i.row)||void 0===e||e.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,m.s)((()=>{var t;for(const e of s){const i=this.items[e];i.dropTarget=!1,null===(t=i.row)||void 0===t||t.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(t){var e,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,h.EQ)((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(i=(e=this.dnd).onDragLeave)||void 0===i||i.call(e,this.currentDragData,t.element,t.index,t.browserEvent))}onDrop(t){if(!this.canDrop)return;const e=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.M.CurrentDragAndDropData=void 0,e&&t.browserEvent.dataTransfer&&(t.browserEvent.preventDefault(),e.update(t.browserEvent.dataTransfer),this.dnd.drop(e,t.element,t.index,t.browserEvent))}onDragEnd(t){var e,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.M.CurrentDragAndDropData=void 0,null===(i=(e=this.dnd).onDragEnd)||void 0===i||i.call(e,t)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=m.jG.None}setupDragAndDropScrollTopAnimation(t){if(!this.dragOverAnimationDisposable){const t=(0,n.cL)(this.domNode).top;this.dragOverAnimationDisposable=(0,n.i0)(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,h.EQ)((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=t.pageY}animateDragAndDropScrollTop(t){if(void 0===this.dragOverMouseY)return;const e=this.dragOverMouseY-t,i=this.renderHeight-35;e<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(e-35))):e>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(e-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(t){const e=this.scrollableElement.getDomNode();let i=t;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&e.contains(i);){const t=i.getAttribute("data-index");if(t){const e=Number(t);if(!isNaN(e))return e}i=i.parentElement}}getRenderRange(t,e){return{start:this.rangeMap.indexAt(t),end:this.rangeMap.indexAfter(t+e-1)}}_rerender(t,e,i){const s=this.getRenderRange(t,e);let o,n;t===this.elementTop(s.start)?(o=s.start,n=0):s.end-s.start>1&&(o=s.start+1,n=this.elementTop(o)-t);let r=0;for(;;){const l=this.getRenderRange(t,e);let a=!1;for(let t=l.start;t<l.end;t++){const e=this.probeDynamicHeight(t);0!==e&&this.rangeMap.splice(t,1,[this.items[t]]),r+=e,a=a||0!==e}if(!a){0!==r&&this.eventuallyUpdateScrollDimensions();const e=p.Q.relativeComplement(s,l);for(const t of e)for(let e=t.start;e<t.end;e++)this.items[e].row&&this.removeItemFromDOM(e);const a=p.Q.relativeComplement(l,s);for(const t of a)for(let e=t.start;e<t.end;e++){const t=e+1,i=t<this.items.length?this.items[t].row:null,s=i?i.domNode:null;this.insertItemInDOM(e,s)}for(let t=l.start;t<l.end;t++)this.items[t].row&&this.updateItemInDOM(this.items[t],t);if("number"==typeof o){const e=this.scrollable.getFutureScrollPosition().scrollTop-t,s=this.elementTop(o)-n+e;this.setScrollTop(s,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(t){var e,i,s;const o=this.items[t];if(this.virtualDelegate.getDynamicHeight){const t=this.virtualDelegate.getDynamicHeight(o.element);if(null!==t){const e=o.size;return o.size=t,o.lastDynamicHeightWidth=this.renderWidth,t-e}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const n=o.size;if(!this.setRowHeight&&o.row){const t=o.row.domNode.offsetHeight;return o.size=t,o.lastDynamicHeightWidth=this.renderWidth,t-n}const r=this.cache.alloc(o.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const l=this.renderers.get(o.templateId);return l&&(l.renderElement(o.element,t,r.templateData,void 0),null===(e=l.disposeElement)||void 0===e||e.call(l,o.element,t,r.templateData,void 0)),o.size=r.domNode.offsetHeight,null===(s=(i=this.virtualDelegate).setDynamicHeight)||void 0===s||s.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),o.size-n}getNextToLastElement(t){const e=t[t.length-1];if(!e)return null;const i=this.items[e.end];return i&&i.row?i.row.domNode:null}getElementDomId(t){return`${this.domId}_${t}`}dispose(){var t;if(this.items){for(const e of this.items)if(e.row){const i=this.renderers.get(e.row.templateId);i&&(null===(t=i.disposeElement)||void 0===t||t.call(i,e.element,-1,e.row.templateData,void 0),i.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,m.AS)(this.disposables)}}k.InstanceCount=0,y([d.B],k.prototype,"onMouseClick",null),y([d.B],k.prototype,"onMouseDblClick",null),y([d.B],k.prototype,"onMouseMiddleClick",null),y([d.B],k.prototype,"onMouseDown",null),y([d.B],k.prototype,"onMouseOver",null),y([d.B],k.prototype,"onContextMenu",null),y([d.B],k.prototype,"onTouchStart",null),y([d.B],k.prototype,"onTap",null)},67954:function(t,e,i){i.d(e,{hb:function(){return R},B8:function(){return Y},MH:function(){return z},_C:function(){return D},Bm:function(){return M},B6:function(){return N},bm:function(){return T},mh:function(){return _},tX:function(){return P}});var s=i(14333),o=i(34061),n=i(87594),r=i(30474),l=i(59407);class a{constructor(t){this.spliceables=t}splice(t,e,i){this.spliceables.forEach((s=>s.splice(t,e,i)))}}var c=i(13338),h=i(65958),d=i(94901),u=i(88846),m=i(2106),p=i(97669),g=i(10998),b=i(62992),v=i(71386),f=i(63339),w=i(79359);class y extends Error{constructor(t,e){super(`ListError [${t}] ${e}`)}}var D,S,x=i(83022),E=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},C=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{a(s.next(t))}catch(t){n(t)}}function l(t){try{a(s.throw(t))}catch(t){n(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,l)}a((s=s.apply(t,e||[])).next())}))};class k{constructor(t){this.trait=t,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(t){return t}renderElement(t,e,i){const s=this.renderedElements.findIndex((t=>t.templateData===i));if(s>=0){const t=this.renderedElements[s];this.trait.unrender(i),t.index=e}else{const t={index:e,templateData:i};this.renderedElements.push(t)}this.trait.renderIndex(e,i)}splice(t,e,i){const s=[];for(const o of this.renderedElements)o.index<t?s.push(o):o.index>=t+e&&s.push({index:o.index+i-e,templateData:o.templateData});this.renderedElements=s}renderIndexes(t){for(const{index:e,templateData:i}of this.renderedElements)t.indexOf(e)>-1&&this.trait.renderIndex(e,i)}disposeTemplate(t){const e=this.renderedElements.findIndex((e=>e.templateData===t));e<0||this.renderedElements.splice(e,1)}}class I{constructor(t){this._trait=t,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new m.vl,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new k(this)}splice(t,e,i){var s;e=Math.max(0,Math.min(e,this.length-t));const o=i.length-e,n=t+e,r=[...this.sortedIndexes.filter((e=>e<t)),...i.map(((e,i)=>e?i+t:-1)).filter((t=>-1!==t)),...this.sortedIndexes.filter((t=>t>=n)).map((t=>t+o))],l=this.length+o;if(this.sortedIndexes.length>0&&0===r.length&&l>0){const e=null!==(s=this.sortedIndexes.find((e=>e>=t)))&&void 0!==s?s:l-1;r.push(Math.min(e,l-1))}this.renderer.splice(t,e,i.length),this._set(r,r),this.length=l}renderIndex(t,e){e.classList.toggle(this._trait,this.contains(t))}unrender(t){t.classList.remove(this._trait)}set(t,e){return this._set(t,[...t].sort(Q),e)}_set(t,e,i){const s=this.indexes,o=this.sortedIndexes;this.indexes=t,this.sortedIndexes=e;const n=U(o,t);return this.renderer.renderIndexes(n),this._onChange.fire({indexes:t,browserEvent:i}),s}get(){return this.indexes}contains(t){return(0,c.El)(this.sortedIndexes,t,Q)>=0}dispose(){(0,g.AS)(this._onChange)}}E([u.B],I.prototype,"renderer",null);class A extends I{constructor(t){super("selected"),this.setAriaSelected=t}renderIndex(t,e){super.renderIndex(t,e),this.setAriaSelected&&(this.contains(t)?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false"))}}class F{constructor(t,e,i){this.trait=t,this.view=e,this.identityProvider=i}splice(t,e,i){if(!this.identityProvider)return this.trait.splice(t,e,i.map((()=>!1)));const s=this.trait.get().map((t=>this.identityProvider.getId(this.view.element(t)).toString())),o=i.map((t=>s.indexOf(this.identityProvider.getId(t).toString())>-1));this.trait.splice(t,e,o)}}function N(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName}function T(t){return!!t.classList.contains("monaco-editor")||!t.classList.contains("monaco-list")&&(!!t.parentElement&&T(t.parentElement))}function M(t){return!!("A"===t.tagName&&t.classList.contains("monaco-button")||"DIV"===t.tagName&&t.classList.contains("monaco-button-dropdown"))||!t.classList.contains("monaco-list")&&(!!t.parentElement&&M(t.parentElement))}class B{constructor(t,e,i){this.list=t,this.view=e,this.disposables=new g.Cm,this.multipleSelectionDisposables=new g.Cm,this.onKeyDown.filter((t=>3===t.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((t=>16===t.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((t=>18===t.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((t=>11===t.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((t=>12===t.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((t=>9===t.keyCode)).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter((t=>(f.zx?t.metaKey:t.ctrlKey)&&31===t.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(m.Jh.chain(this.disposables.add(new o.f(this.view.domNode,"keydown")).event).filter((t=>!N(t.target))).map((t=>new n.Z(t))))}updateOptions(t){void 0!==t.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),t.multipleSelectionSupport&&this.onKeyDown.filter((t=>(f.zx?t.metaKey:t.ctrlKey)&&31===t.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(this.list.getFocus(),t.browserEvent)}onUpArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusPrevious(1,!1,t.browserEvent);const e=this.list.getFocus()[0];this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onDownArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusNext(1,!1,t.browserEvent);const e=this.list.getFocus()[0];this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onPageUpArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusPreviousPage(t.browserEvent);const e=this.list.getFocus()[0];this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onPageDownArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusNextPage(t.browserEvent);const e=this.list.getFocus()[0];this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onCtrlA(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection((0,c.y1)(this.list.length),t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(t){this.list.getSelection().length&&(t.preventDefault(),t.stopPropagation(),this.list.setSelection([],t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}E([u.B],B.prototype,"onKeyDown",null),function(t){t[t.Automatic=0]="Automatic",t[t.Trigger=1]="Trigger"}(D||(D={})),function(t){t[t.Idle=0]="Idle",t[t.Typing=1]="Typing"}(S||(S={}));const L=new class{mightProducePrintableCharacter(t){return!(t.ctrlKey||t.metaKey||t.altKey)&&(t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30||t.keyCode>=93&&t.keyCode<=102||t.keyCode>=80&&t.keyCode<=90)}};class O{constructor(t,e,i,s,o){this.list=t,this.view=e,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=s,this.delegate=o,this.enabled=!1,this.state=S.Idle,this.mode=D.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new g.Cm,this.disposables=new g.Cm,this.updateOptions(t.options)}updateOptions(t){var e,i;null===(e=t.typeNavigationEnabled)||void 0===e||e?this.enable():this.disable(),this.mode=null!==(i=t.typeNavigationMode)&&void 0!==i?i:D.Automatic}enable(){if(this.enabled)return;let t=!1;const e=this.enabledDisposables.add(m.Jh.chain(this.enabledDisposables.add(new o.f(this.view.domNode,"keydown")).event)).filter((t=>!N(t.target))).filter((()=>this.mode===D.Automatic||this.triggered)).map((t=>new n.Z(t))).filter((e=>t||this.keyboardNavigationEventFilter(e))).filter((t=>this.delegate.mightProducePrintableCharacter(t))).forEach(o.j).map((t=>t.browserEvent.key)).event,i=m.Jh.debounce(e,(()=>null),800,void 0,void 0,this.enabledDisposables);m.Jh.reduce(m.Jh.any(e,i),((t,e)=>null===e?null:(t||"")+e),void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),e((()=>t=!0),void 0,this.enabledDisposables),i((()=>t=!1),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var t;const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const i=null===(t=this.list.options.accessibilityProvider)||void 0===t?void 0:t.getAriaLabel(this.list.element(e[0]));i&&(0,l.xE)(i)}this.previouslyFocused=-1}onInput(t){if(!t)return this.state=S.Idle,void(this.triggered=!1);const e=this.list.getFocus(),i=e.length>0?e[0]:0,s=this.state===S.Idle?1:0;this.state=S.Typing;for(let e=0;e<this.list.length;e++){const o=(i+e+s)%this.list.length,n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),r=n&&n.toString();if(void 0===r||(0,p.WP)(t,r))return this.previouslyFocused=i,this.list.setFocus([o]),void this.list.reveal(o)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class H{constructor(t,e){this.list=t,this.view=e,this.disposables=new g.Cm;this.disposables.add(m.Jh.chain(this.disposables.add(new o.f(e.domNode,"keydown")).event)).filter((t=>!N(t.target))).map((t=>new n.Z(t))).filter((t=>!(2!==t.keyCode||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey))).on(this.onTab,this,this.disposables)}onTab(t){if(t.target!==this.view.domNode)return;const e=this.list.getFocus();if(0===e.length)return;const i=this.view.domElement(e[0]);if(!i)return;const s=i.querySelector("[tabIndex]");if(!(s&&s instanceof HTMLElement&&-1!==s.tabIndex))return;const o=window.getComputedStyle(s);"hidden"!==o.visibility&&"none"!==o.display&&(t.preventDefault(),t.stopPropagation(),s.focus())}dispose(){this.disposables.dispose()}}function P(t){return f.zx?t.browserEvent.metaKey:t.browserEvent.ctrlKey}function _(t){return t.browserEvent.shiftKey}const $={isSelectionSingleChangeEvent:P,isSelectionRangeChangeEvent:_};class z{constructor(t){this.list=t,this.disposables=new g.Cm,this._onPointer=new m.vl,this.onPointer=this._onPointer.event,!1!==t.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||$),this.mouseSupport=void 0===t.options.mouseSupport||!!t.options.mouseSupport,this.mouseSupport&&(t.onMouseDown(this.onMouseDown,this,this.disposables),t.onContextMenu(this.onContextMenu,this,this.disposables),t.onMouseDblClick(this.onDoubleClick,this,this.disposables),t.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(r.q.addTarget(t.getHTMLElement()))),m.Jh.any(t.onMouseClick,t.onMouseMiddleClick,t.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(t){void 0!==t.multipleSelectionSupport&&(this.multipleSelectionController=void 0,t.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||$))}isSelectionSingleChangeEvent(t){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(t)}isSelectionRangeChangeEvent(t){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(t)}isSelectionChangeEvent(t){return this.isSelectionSingleChangeEvent(t)||this.isSelectionRangeChangeEvent(t)}onMouseDown(t){T(t.browserEvent.target)||document.activeElement!==t.browserEvent.target&&this.list.domFocus()}onContextMenu(t){if(T(t.browserEvent.target))return;const e=void 0===t.index?[]:[t.index];this.list.setFocus(e,t.browserEvent)}onViewPointer(t){if(!this.mouseSupport)return;if(N(t.browserEvent.target)||T(t.browserEvent.target))return;const e=t.index;return void 0===e?(this.list.setFocus([],t.browserEvent),this.list.setSelection([],t.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(t)||this.isSelectionChangeEvent(t)?this.changeSelection(t):(this.list.setFocus([e],t.browserEvent),this.list.setAnchor(e),(i=t.browserEvent)instanceof MouseEvent&&2===i.button||this.list.setSelection([e],t.browserEvent),void this._onPointer.fire(t));var i}onDoubleClick(t){if(N(t.browserEvent.target)||T(t.browserEvent.target))return;if(this.isSelectionChangeEvent(t))return;const e=this.list.getFocus();this.list.setSelection(e,t.browserEvent)}changeSelection(t){const e=t.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(t)){if(void 0===i){const t=this.list.getFocus()[0];i=null!=t?t:e,this.list.setAnchor(i)}const s=Math.min(i,e),o=Math.max(i,e),n=(0,c.y1)(s,o+1),r=this.list.getSelection(),l=function(t,e){const i=t.indexOf(e);if(-1===i)return[];const s=[];let o=i-1;for(;o>=0&&t[o]===e-(i-o);)s.push(t[o--]);s.reverse(),o=i;for(;o<t.length&&t[o]===e+(o-i);)s.push(t[o++]);return s}(U(r,[i]),i);if(0===l.length)return;const a=U(n,function(t,e){const i=[];let s=0,o=0;for(;s<t.length||o<e.length;)if(s>=t.length)i.push(e[o++]);else if(o>=e.length)i.push(t[s++]);else{if(t[s]===e[o]){s++,o++;continue}t[s]<e[o]?i.push(t[s++]):o++}return i}(r,l));this.list.setSelection(a,t.browserEvent),this.list.setFocus([e],t.browserEvent)}else if(this.isSelectionSingleChangeEvent(t)){const i=this.list.getSelection(),s=i.filter((t=>t!==e));this.list.setFocus([e]),this.list.setAnchor(e),i.length===s.length?this.list.setSelection([...s,e],t.browserEvent):this.list.setSelection(s,t.browserEvent)}}dispose(){this.disposables.dispose()}}class R{constructor(t,e){this.styleElement=t,this.selectorSuffix=e}style(t){const e=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];t.listBackground&&(t.listBackground.isOpaque()?i.push(`.monaco-list${e} .monaco-list-rows { background: ${t.listBackground}; }`):f.zx||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),t.listFocusBackground&&(i.push(`.monaco-list${e}:focus .monaco-list-row.focused { background-color: ${t.listFocusBackground}; }`),i.push(`.monaco-list${e}:focus .monaco-list-row.focused:hover { background-color: ${t.listFocusBackground}; }`)),t.listFocusForeground&&i.push(`.monaco-list${e}:focus .monaco-list-row.focused { color: ${t.listFocusForeground}; }`),t.listActiveSelectionBackground&&(i.push(`.monaco-list${e}:focus .monaco-list-row.selected { background-color: ${t.listActiveSelectionBackground}; }`),i.push(`.monaco-list${e}:focus .monaco-list-row.selected:hover { background-color: ${t.listActiveSelectionBackground}; }`)),t.listActiveSelectionForeground&&i.push(`.monaco-list${e}:focus .monaco-list-row.selected { color: ${t.listActiveSelectionForeground}; }`),t.listActiveSelectionIconForeground&&i.push(`.monaco-list${e}:focus .monaco-list-row.selected .codicon { color: ${t.listActiveSelectionIconForeground}; }`),t.listFocusAndSelectionOutline&&i.push(`.monaco-list${e}:focus .monaco-list-row.selected { outline-color: ${t.listFocusAndSelectionOutline} !important; }`),t.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${e}:focus .monaco-list-row.selected.focused { background-color: ${t.listFocusAndSelectionBackground}; }\n\t\t\t`),t.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${e}:focus .monaco-list-row.selected.focused { color: ${t.listFocusAndSelectionForeground}; }\n\t\t\t`),t.listInactiveFocusForeground&&(i.push(`.monaco-list${e} .monaco-list-row.focused { color:  ${t.listInactiveFocusForeground}; }`),i.push(`.monaco-list${e} .monaco-list-row.focused:hover { color:  ${t.listInactiveFocusForeground}; }`)),t.listInactiveSelectionIconForeground&&i.push(`.monaco-list${e} .monaco-list-row.focused .codicon { color:  ${t.listInactiveSelectionIconForeground}; }`),t.listInactiveFocusBackground&&(i.push(`.monaco-list${e} .monaco-list-row.focused { background-color:  ${t.listInactiveFocusBackground}; }`),i.push(`.monaco-list${e} .monaco-list-row.focused:hover { background-color:  ${t.listInactiveFocusBackground}; }`)),t.listInactiveSelectionBackground&&(i.push(`.monaco-list${e} .monaco-list-row.selected { background-color:  ${t.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${e} .monaco-list-row.selected:hover { background-color:  ${t.listInactiveSelectionBackground}; }`)),t.listInactiveSelectionForeground&&i.push(`.monaco-list${e} .monaco-list-row.selected { color: ${t.listInactiveSelectionForeground}; }`),t.listHoverBackground&&i.push(`.monaco-list${e}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${t.listHoverBackground}; }`),t.listHoverForeground&&i.push(`.monaco-list${e} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${t.listHoverForeground}; }`),t.listSelectionOutline&&i.push(`.monaco-list${e} .monaco-list-row.selected { outline: 1px dotted ${t.listSelectionOutline}; outline-offset: -1px; }`),t.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${e}:focus .monaco-list-row.focused { outline: 1px solid ${t.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${e}.last-focused .monaco-list-row.focused { outline: 1px solid ${t.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),t.listInactiveFocusOutline&&i.push(`.monaco-list${e} .monaco-list-row.focused { outline: 1px dotted ${t.listInactiveFocusOutline}; outline-offset: -1px; }`),t.listHoverOutline&&i.push(`.monaco-list${e} .monaco-list-row:hover { outline: 1px dashed ${t.listHoverOutline}; outline-offset: -1px; }`),t.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${e}.drop-target,\n\t\t\t\t.monaco-list${e} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${e} .monaco-list-row.drop-target { background-color: ${t.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),t.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${t.tableColumnsBorder};\n\t\t\t}`),t.tableOddRowsBackgroundColor&&i.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${t.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=i.join("\n")}}const W={listFocusBackground:d.Q1.fromHex("#7FB0D0"),listActiveSelectionBackground:d.Q1.fromHex("#0E639C"),listActiveSelectionForeground:d.Q1.fromHex("#FFFFFF"),listActiveSelectionIconForeground:d.Q1.fromHex("#FFFFFF"),listFocusAndSelectionOutline:d.Q1.fromHex("#90C2F9"),listFocusAndSelectionBackground:d.Q1.fromHex("#094771"),listFocusAndSelectionForeground:d.Q1.fromHex("#FFFFFF"),listInactiveSelectionBackground:d.Q1.fromHex("#3F3F46"),listInactiveSelectionIconForeground:d.Q1.fromHex("#FFFFFF"),listHoverBackground:d.Q1.fromHex("#2A2D2E"),listDropBackground:d.Q1.fromHex("#383B3D"),treeIndentGuidesStroke:d.Q1.fromHex("#a9a9a9"),tableColumnsBorder:d.Q1.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:d.Q1.fromHex("#cccccc").transparent(.04)},K={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function U(t,e){const i=[];let s=0,o=0;for(;s<t.length||o<e.length;)if(s>=t.length)i.push(e[o++]);else if(o>=e.length)i.push(t[s++]);else{if(t[s]===e[o]){i.push(t[s]),s++,o++;continue}t[s]<e[o]?i.push(t[s++]):i.push(e[o++])}return i}const Q=(t,e)=>t-e;class j{constructor(t,e){this._templateId=t,this.renderers=e}get templateId(){return this._templateId}renderTemplate(t){return this.renderers.map((e=>e.renderTemplate(t)))}renderElement(t,e,i,s){let o=0;for(const n of this.renderers)n.renderElement(t,e,i[o++],s)}disposeElement(t,e,i,s){var o;let n=0;for(const r of this.renderers)null===(o=r.disposeElement)||void 0===o||o.call(r,t,e,i[n],s),n+=1}disposeTemplate(t){let e=0;for(const i of this.renderers)i.disposeTemplate(t[e++])}}class J{constructor(t){this.accessibilityProvider=t,this.templateId="a18n"}renderTemplate(t){return t}renderElement(t,e,i){const s=this.accessibilityProvider.getAriaLabel(t);s?i.setAttribute("aria-label",s):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);"number"==typeof o?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(t){}}class q{constructor(t,e){this.list=t,this.dnd=e}getDragElements(t){const e=this.list.getSelectedElements();return e.indexOf(t)>-1?e:[t]}getDragURI(t){return this.dnd.getDragURI(t)}getDragLabel(t,e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t,e)}onDragStart(t,e){var i,s;null===(s=(i=this.dnd).onDragStart)||void 0===s||s.call(i,t,e)}onDragOver(t,e,i,s){return this.dnd.onDragOver(t,e,i,s)}onDragLeave(t,e,i,s){var o,n;null===(n=(o=this.dnd).onDragLeave)||void 0===n||n.call(o,t,e,i,s)}onDragEnd(t){var e,i;null===(i=(e=this.dnd).onDragEnd)||void 0===i||i.call(e,t)}drop(t,e,i,s){this.dnd.drop(t,e,i,s)}}class Y{constructor(t,e,i,o,n=K){var r,l,c,h;this.user=t,this._options=n,this.focus=new I("focused"),this.anchor=new I("anchor"),this.eventBufferer=new m.at,this._ariaLabel="",this.disposables=new g.Cm,this._onDidDispose=new m.vl,this.onDidDispose=this._onDidDispose.event;const d=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new A("listbox"!==d),(0,v.co)(n,W,!1);const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=n.accessibilityProvider,this.accessibilityProvider&&(u.push(new J(this.accessibilityProvider)),null===(c=(l=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===c||c.call(l,this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map((t=>new j(t.templateId,[...u,t])));const p=Object.assign(Object.assign({},n),{dnd:n.dnd&&new q(this,n.dnd)});if(this.view=new x.uO(e,i,o,p),this.view.domNode.setAttribute("role",d),n.styleController)this.styleController=n.styleController(this.view.domId);else{const t=(0,s.li)(this.view.domNode);this.styleController=new R(t,this.view.domId)}if(this.spliceable=new a([new F(this.focus,this.view,n.identityProvider),new F(this.selection,this.view,n.identityProvider),new F(this.anchor,this.view,n.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new H(this,this.view)),("boolean"!=typeof n.keyboardSupport||n.keyboardSupport)&&(this.keyboardController=new B(this,this.view,n),this.disposables.add(this.keyboardController)),n.keyboardNavigationLabelProvider){const t=n.keyboardNavigationDelegate||L;this.typeNavigationController=new O(this,this.view,n.keyboardNavigationLabelProvider,null!==(h=n.keyboardNavigationEventFilter)&&void 0!==h?h:()=>!0,t),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(n),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return m.Jh.map(this.eventBufferer.wrapEvent(this.focus.onChange),(t=>this.toListEvent(t)),this.disposables)}get onDidChangeSelection(){return m.Jh.map(this.eventBufferer.wrapEvent(this.selection.onChange),(t=>this.toListEvent(t)),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let t=!1;const e=this.disposables.add(m.Jh.chain(this.disposables.add(new o.f(this.view.domNode,"keydown")).event)).map((t=>new n.Z(t))).filter((e=>t=58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(o.j).filter((()=>!1)).event,i=this.disposables.add(m.Jh.chain(this.disposables.add(new o.f(this.view.domNode,"keyup")).event)).forEach((()=>t=!1)).map((t=>new n.Z(t))).filter((t=>58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(o.j).map((({browserEvent:t})=>{const e=this.getFocus(),i=e.length?e[0]:void 0;return{index:i,element:void 0!==i?this.view.element(i):void 0,anchor:void 0!==i?this.view.domElement(i):this.view.domNode,browserEvent:t}})).event,s=this.disposables.add(m.Jh.chain(this.view.onContextMenu)).filter((e=>!t)).map((({element:t,index:e,browserEvent:i})=>({element:t,index:e,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i}))).event;return m.Jh.any(e,i,s)}get onKeyDown(){return this.disposables.add(new o.f(this.view.domNode,"keydown")).event}get onDidFocus(){return m.Jh.signal(this.disposables.add(new o.f(this.view.domNode,"focus",!0)).event)}createMouseController(t){return new z(this)}updateOptions(t={}){var e,i;this._options=Object.assign(Object.assign({},this._options),t),null===(e=this.typeNavigationController)||void 0===e||e.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(t),null===(i=this.keyboardController)||void 0===i||i.updateOptions(t),this.view.updateOptions(t)}get options(){return this._options}splice(t,e,i=[]){if(t<0||t>this.view.length)throw new y(this.user,`Invalid start index: ${t}`);if(e<0)throw new y(this.user,`Invalid delete count: ${e}`);0===e&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(t,e,i)))}rerender(){this.view.rerender()}element(t){return this.view.element(t)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(t){this.view.setScrollTop(t)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){this._ariaLabel=t,this.view.domNode.setAttribute("aria-label",t)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(t,e){this.view.layout(t,e)}setSelection(t,e){for(const e of t)if(e<0||e>=this.length)throw new y(this.user,`Invalid index ${e}`);this.selection.set(t,e)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((t=>this.view.element(t)))}setAnchor(t){if(void 0!==t){if(t<0||t>=this.length)throw new y(this.user,`Invalid index ${t}`);this.anchor.set([t])}else this.anchor.set([])}getAnchor(){return(0,c.Fy)(this.anchor.get(),void 0)}getAnchorElement(){const t=this.getAnchor();return void 0===t?void 0:this.element(t)}setFocus(t,e){for(const e of t)if(e<0||e>=this.length)throw new y(this.user,`Invalid index ${e}`);this.focus.set(t,e)}focusNext(t=1,e=!1,i,s){if(0===this.length)return;const o=this.focus.get(),n=this.findNextIndex(o.length>0?o[0]+t:0,e,s);n>-1&&this.setFocus([n],i)}focusPrevious(t=1,e=!1,i,s){if(0===this.length)return;const o=this.focus.get(),n=this.findPreviousIndex(o.length>0?o[0]-t:0,e,s);n>-1&&this.setFocus([n],i)}focusNextPage(t,e){return C(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const s=this.getFocus()[0];if(s!==i&&(void 0===s||i>s)){const o=this.findPreviousIndex(i,!1,e);o>-1&&s!==o?this.setFocus([o],t):this.setFocus([i],t)}else{const o=this.view.getScrollTop();let n=o+this.view.renderHeight;i>s&&(n-=this.view.elementHeight(i)),this.view.setScrollTop(n),this.view.getScrollTop()!==o&&(this.setFocus([]),yield(0,h.wR)(0),yield this.focusNextPage(t,e))}}))}focusPreviousPage(t,e){return C(this,void 0,void 0,(function*(){let i;const s=this.view.getScrollTop();i=0===s?this.view.indexAt(s):this.view.indexAfter(s-1);const o=this.getFocus()[0];if(o!==i&&(void 0===o||o>=i)){const s=this.findNextIndex(i,!1,e);s>-1&&o!==s?this.setFocus([s],t):this.setFocus([i],t)}else{const i=s;this.view.setScrollTop(s-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),yield(0,h.wR)(0),yield this.focusPreviousPage(t,e))}}))}focusLast(t,e){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,e);i>-1&&this.setFocus([i],t)}focusFirst(t,e){this.focusNth(0,t,e)}focusNth(t,e,i){if(0===this.length)return;const s=this.findNextIndex(t,!1,i);s>-1&&this.setFocus([s],e)}findNextIndex(t,e=!1,i){for(let s=0;s<this.length;s++){if(t>=this.length&&!e)return-1;if(t%=this.length,!i||i(this.element(t)))return t;t++}return-1}findPreviousIndex(t,e=!1,i){for(let s=0;s<this.length;s++){if(t<0&&!e)return-1;if(t=(this.length+t%this.length)%this.length,!i||i(this.element(t)))return t;t--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((t=>this.view.element(t)))}reveal(t,e){if(t<0||t>=this.length)throw new y(this.user,`Invalid index ${t}`);const i=this.view.getScrollTop(),s=this.view.elementTop(t),o=this.view.elementHeight(t);if((0,w.Et)(e)){const t=o-this.view.renderHeight;this.view.setScrollTop(t*(0,b.qE)(e,0,1)+s)}else{const t=s+o,e=i+this.view.renderHeight;s<i&&t>=e||(s<i||t>=e&&o>=this.view.renderHeight?this.view.setScrollTop(s):t>=e&&this.view.setScrollTop(t-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(t){return this.view.getElementDomId(t)}style(t){this.styleController.style(t)}toListEvent({indexes:t,browserEvent:e}){return{indexes:t,elements:t.map((t=>this.view.element(t))),browserEvent:e}}_onFocusChange(){const t=this.focus.get();this.view.domNode.classList.toggle("element-focused",t.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var t;const e=this.focus.get();if(e.length>0){let i;(null===(t=this.accessibilityProvider)||void 0===t?void 0:t.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const t=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===t.length),this.view.domNode.classList.toggle("selection-single",1===t.length),this.view.domNode.classList.toggle("selection-multiple",t.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}E([u.B],Y.prototype,"onDidChangeFocus",null),E([u.B],Y.prototype,"onDidChangeSelection",null),E([u.B],Y.prototype,"onContextMenu",null),E([u.B],Y.prototype,"onKeyDown",null),E([u.B],Y.prototype,"onDidFocus",null)},41575:function(t,e,i){i.d(e,{W1:function(){return x}});var s=i(55893),o=i(30474),n=i(14333),r=i(87594),l=i(9715),a=i(77439),c=i(23473),h=i(96852),d=i(84451),u=i(63781),m=i(27969),p=i(65958),g=i(26048),b=i(24594),v=i(10998),f=i(63339),w=i(16844);const y=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,D=/(&amp;)?(&amp;)([^\s&])/g;var S;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(S||(S={}));class x extends a.E{constructor(t,e,i={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),super(s,{orientation:1,actionViewItemProvider:t=>this.doGetActionViewItem(t,i,l),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...f.zx||f.j9?[10]:[]],keyDown:!0}}),this.menuElement=s,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new v.Cm),this.initializeOrUpdateStyleSheet(t,{}),this._register(o.q.addTarget(s)),(0,n.ko)(s,n.Bx.KEY_DOWN,(t=>{new r.Z(t).equals(2)&&t.preventDefault()})),i.enableMnemonics&&this.menuDisposables.add((0,n.ko)(s,n.Bx.KEY_DOWN,(t=>{const e=t.key.toLocaleLowerCase();if(this.mnemonics.has(e)){n.fs.stop(t,!0);const i=this.mnemonics.get(e);if(1===i.length&&(i[0]instanceof C&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(t)),i.length>1){const t=i.shift();t&&t.container&&(this.focusItemByElement(t.container),i.push(t)),this.mnemonics.set(e,i)}}}))),f.j9&&this._register((0,n.ko)(s,n.Bx.KEY_DOWN,(t=>{const e=new r.Z(t);e.equals(14)||e.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),n.fs.stop(t,!0)):(e.equals(13)||e.equals(12))&&(this.focusedItem=0,this.focusPrevious(),n.fs.stop(t,!0))}))),this._register((0,n.ko)(this.domNode,n.Bx.MOUSE_OUT,(t=>{const e=t.relatedTarget;(0,n.QX)(e,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),t.stopPropagation())}))),this._register((0,n.ko)(this.actionsList,n.Bx.MOUSE_OVER,(t=>{let e=t.target;if(e&&(0,n.QX)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}}))),this._register(o.q.addTarget(this.actionsList)),this._register((0,n.ko)(this.actionsList,o.B.Tap,(t=>{let e=t.initialTarget;if(e&&(0,n.QX)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}})));const l={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new u.MU(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this._register((0,n.ko)(s,o.B.Change,(t=>{n.fs.stop(t,!0);const e=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:e-t.translationY})}))),this._register((0,n.ko)(a,n.Bx.MOUSE_UP,(t=>{t.preventDefault()}))),s.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,e=e.filter((t=>{var e;return!(null===(e=i.submenuIds)||void 0===e?void 0:e.has(t.id))||(console.warn(`Found submenu cycle: ${t.id}`),!1)})),this.push(e,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((t=>!(t instanceof k))).forEach(((t,e,i)=>{t.updatePositionInSet(e+1,i.length)}))}initializeOrUpdateStyleSheet(t,e){this.styleSheet||((0,n.Cl)(t)?this.styleSheet=(0,n.li)(t):(x.globalStyleSheet||(x.globalStyleSheet=(0,n.li)()),this.styleSheet=x.globalStyleSheet)),this.styleSheet.textContent=function(t,e){let i=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,h.U)(g.W6.menuSelection)}\n${(0,h.U)(g.W6.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(e){i+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const e=t.scrollbarShadow;e&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${e} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const s=t.scrollbarSliderBackground;s&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${s};\n\t\t\t\t}\n\t\t\t`);const o=t.scrollbarSliderHoverBackground;o&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${o};\n\t\t\t\t}\n\t\t\t`);const n=t.scrollbarSliderActiveBackground;n&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${n};\n\t\t\t\t}\n\t\t\t`)}return i}(e,(0,n.Cl)(t))}style(t){const e=this.getContainer();this.initializeOrUpdateStyleSheet(e,t);const i=t.foregroundColor?`${t.foregroundColor}`:"",s=t.backgroundColor?`${t.backgroundColor}`:"",o=t.borderColor?`1px solid ${t.borderColor}`:"",n=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=o,e.style.borderRadius="5px",e.style.color=i,e.style.backgroundColor=s,e.style.boxShadow=n,this.viewItems&&this.viewItems.forEach((e=>{(e instanceof E||e instanceof k)&&e.style(t)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let e=0;e<this.actionsList.children.length;e++){if(t===this.actionsList.children[e]){this.focusedItem=e;break}}}updateFocus(t){super.updateFocus(t,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,e,i){if(t instanceof m.wv)return new k(e.context,t,{icon:!0});if(t instanceof m.YH){const s=new C(t,t.actions,i,Object.assign(Object.assign({},e),{submenuIds:new Set([...e.submenuIds||[],t.id])}));if(e.enableMnemonics){const t=s.getMnemonic();if(t&&s.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(s),this.mnemonics.set(t,e)}}return s}{const i={enableMnemonics:e.enableMnemonics,useEventAsContext:e.useEventAsContext};if(e.getKeyBinding){const s=e.getKeyBinding(t);if(s){const t=s.getLabel();t&&(i.keybinding=t)}}const s=new E(e.context,t,i);if(e.enableMnemonics){const t=s.getMnemonic();if(t&&s.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(s),this.mnemonics.set(t,e)}}return s}}}class E extends c.E{constructor(t,e,i={}){if(i.isMenu=!0,super(e,e,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){const t=this.getAction().label;if(t){const e=y.exec(t);e&&(this.mnemonic=(e[1]?e[1]:e[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new p.uC((()=>{this.element&&(this._register((0,n.ko)(this.element,n.Bx.MOUSE_UP,(t=>{if(n.fs.stop(t,!0),s.isFirefox){if(new l.P(t).rightButton)return;this.onClick(t)}else setTimeout((()=>{this.onClick(t)}),0)}))),this._register((0,n.ko)(this.element,n.Bx.CONTEXT_MENU,(t=>{n.fs.stop(t,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,n.BC)(this.element,(0,n.$)("a.action-menu-item")),this._action.id===m.wv.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,n.BC)(this.item,(0,n.$)("span.menu-item-check"+g.W6.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,n.BC)(this.item,(0,n.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,n.BC)(this.item,(0,n.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,e){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${e}`))}updateLabel(){var t;if(this.label&&this.options.label){(0,n.w_)(this.label);let e=(0,b.pS)(this.getAction().label);if(e){const i=function(t){const e=y,i=e.exec(t);if(!i)return t;const s=!i[1];return t.replace(e,s?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const s=y.exec(e);if(s){e=w.ih(e),D.lastIndex=0;let i=D.exec(e);for(;i&&i[1];)i=D.exec(e);const o=t=>t.replace(/&amp;&amp;/g,"&amp;");i?this.label.append(w.NB(o(e.substr(0,i.index))," "),(0,n.$)("u",{"aria-hidden":"true"},i[3]),w.BO(o(e.substr(i.index+i[0].length))," ")):this.label.innerText=o(e).trim(),null===(t=this.item)||void 0===t||t.setAttribute("aria-keyshortcuts",(s[1]?s[1]:s[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),void 0!==t?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),e=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,s=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=e?e.toString():"",this.item.style.backgroundColor=i?i.toString():"",this.item.style.outline=s,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=e?e.toString():"")}style(t){this.menuStyle=t,this.applyStyle()}}class C extends E{constructor(t,e,i,s){super(t,t,s),this.submenuActions=e,this.parentData=i,this.submenuOptions=s,this.mysubmenu=null,this.submenuDisposables=this._register(new v.Cm),this.mouseOver=!1,this.expandDirection=s&&void 0!==s.expandDirection?s.expandDirection:S.Right,this.showScheduler=new p.uC((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new p.uC((()=>{this.element&&!(0,n.QX)((0,n.bq)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,n.BC)(this.item,(0,n.$)("span.submenu-indicator"+g.W6.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,n.ko)(this.element,n.Bx.KEY_UP,(t=>{const e=new r.Z(t);(e.equals(17)||e.equals(3))&&(n.fs.stop(t,!0),this.createSubmenu(!0))}))),this._register((0,n.ko)(this.element,n.Bx.KEY_DOWN,(t=>{const e=new r.Z(t);(0,n.bq)()===this.item&&(e.equals(17)||e.equals(3))&&n.fs.stop(t,!0)}))),this._register((0,n.ko)(this.element,n.Bx.MOUSE_OVER,(t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register((0,n.ko)(this.element,n.Bx.MOUSE_LEAVE,(t=>{this.mouseOver=!1}))),this._register((0,n.ko)(this.element,n.Bx.FOCUS_OUT,(t=>{this.element&&!(0,n.QX)((0,n.bq)(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}))))}updateEnabled(){}onClick(t){n.fs.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,e,i,s){const o={top:0,left:0};return o.left=(0,d.Zp)(t.width,e.width,{position:s===S.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+e.width<=t.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=(0,d.Zp)(t.height,e.height,{position:0,offset:i.top,size:0}),o.top+e.height===i.top&&o.top+i.height+e.height<=t.height&&(o.top+=i.height),o}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,n.BC)(this.element,(0,n.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const e=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(e.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new x(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new m.HJ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const s=this.element.getBoundingClientRect(),o={top:s.top-i,left:s.left,height:s.height+2*i,width:s.width},l=this.submenuContainer.getBoundingClientRect(),{top:a,left:c}=this.calculateSubmenuMenuLayout(new n.fg(window.innerWidth,window.innerHeight),n.fg.lift(l),o,this.expandDirection);this.submenuContainer.style.left=c-l.left+"px",this.submenuContainer.style.top=a-l.top+"px",this.submenuDisposables.add((0,n.ko)(this.submenuContainer,n.Bx.KEY_UP,(t=>{new r.Z(t).equals(15)&&(n.fs.stop(t,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add((0,n.ko)(this.submenuContainer,n.Bx.KEY_DOWN,(t=>{new r.Z(t).equals(15)&&n.fs.stop(t,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var e;this.item&&(null===(e=this.item)||void 0===e||e.setAttribute("aria-expanded",t))}applyStyle(){var t;if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),null===(t=this.parentData.submenu)||void 0===t||t.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class k extends c.Z{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}}}]);
