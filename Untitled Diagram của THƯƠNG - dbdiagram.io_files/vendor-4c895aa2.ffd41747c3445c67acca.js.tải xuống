!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=(new Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="d12a0f7f-21e6-429c-888f-6245f49b3274",e._sentryDebugIdIdentifier="sentry-dbid-d12a0f7f-21e6-429c-888f-6245f49b3274")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[9355],{42279:function(e,i,t){t.d(i,{y:function(){return A}});var n,o=t(3765),s=t(14333),r=t(5043),d=t(77439),l=t(63781),a=t(27969),f=t(10998),c=t(48218),h=t(50946),g=t(87301),u=t(66476),m=t(57445),p=t(15365),_=t(48295),b=t(39723),w=t(11608),v=t(96655),L=t(4874),y=t(89044),N=t(26048),E=t(11210),C=t(77922),x=function(e,i,t,n){var o,s=arguments.length,r=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,i,t,n);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(r=(s<3?o(r):s>3?o(i,t,r):o(i,t))||r);return s>3&&r&&Object.defineProperty(i,t,r),r},S=function(e,i){return function(t,n){i(t,n,e)}},D=function(e,i,t,n){return new(t||(t=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function d(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(r,d)}l((n=n.apply(e,i||[])).next())}))};class R{constructor(e,i,t,n){this.originalLineStart=e,this.originalLineEnd=i,this.modifiedLineStart=t,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class k{constructor(e){this.entries=e}}const M=(0,E.pU)("diff-review-insert",N.W6.add,o.kg("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),I=(0,E.pU)("diff-review-remove",N.W6.remove,o.kg("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),O=(0,E.pU)("diff-review-close",N.W6.close,o.kg("diffReviewCloseIcon","Icon for 'Close' in diff review."));let A=class e extends f.jG{constructor(e,i){super(),this._languageService=i,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=(0,r.Z)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,r.Z)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new d.E(this.actionBarContainer.domNode)),this._actionBar.push(new a.rc("diffreview.close",o.kg("label.close","Close"),"close-diff-review "+y.L0.asClassName(O),!0,(()=>D(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=(0,r.Z)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,r.Z)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new l.MU(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(s.b2(this.domNode.domNode,"click",(e=>{e.preventDefault();const i=s.m1(e.target,"diff-review-row");i&&this._goToRow(i)}))),this._register(s.b2(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let e=0,t=this._diffs.length;e<t;e++)if(this._diffs[e]===this._currentDiff){i=e;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const i=this._diffs[e].entries;this._diffEditor.setPosition(new p.y(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let e=0,t=this._diffs.length;e<t;e++)if(this._diffs[e]===this._currentDiff){i=e;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const i=this._diffs[e].entries;this._diffEditor.setPosition(new p.y(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1;const i=this._getCurrentFocusedRow();if(i){const t=parseInt(i.getAttribute("data-line"),10);isNaN(t)||(e=t)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new p.y(e,1)),this._diffEditor.revealPosition(new p.y(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){const e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){const i=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),i&&i!==e&&(i.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,i,t){this._width=i,this.shadow.setTop(e-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(i),this.domNode.setHeight(t),this._content.setHeight(t),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const i=this._diffEditor.getLineChanges();if(!i||0===i.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return t&&n?e._mergeAdjacent(i,t.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,i,t){if(!e||0===e.length)return[];const n=[];let o=0;for(let s=0,r=e.length;s<r;s++){const d=e[s],l=d.originalStartLineNumber,a=d.originalEndLineNumber,f=d.modifiedStartLineNumber,c=d.modifiedEndLineNumber,h=[];let g=0;{const i=0===a?l:l-1,t=0===c?f:f-1;let n=1,o=1;if(s>0){const i=e[s-1];n=0===i.originalEndLineNumber?i.originalStartLineNumber+1:i.originalEndLineNumber+1,o=0===i.modifiedEndLineNumber?i.modifiedStartLineNumber+1:i.modifiedEndLineNumber+1}let r=i-3+1,d=t-3+1;if(r<n){const e=n-r;r+=e,d+=e}if(d<o){const e=o-d;r+=e,d+=e}h[g++]=new R(r,i,d,t)}0!==a&&(h[g++]=new R(l,a,0,0)),0!==c&&(h[g++]=new R(0,0,f,c));{const n=0===a?l+1:a+1,o=0===c?f+1:c+1;let d=i,u=t;if(s+1<r){const i=e[s+1];d=0===i.originalEndLineNumber?i.originalStartLineNumber:i.originalStartLineNumber-1,u=0===i.modifiedEndLineNumber?i.modifiedStartLineNumber:i.modifiedStartLineNumber-1}let m=n+3-1,p=o+3-1;if(m>d){const e=d-m;m+=e,p+=e}if(p>u){const e=u-p;m+=e,p+=e}h[g++]=new R(n,m,o,p)}n[o++]=new k(h)}let s=n[0].entries;const r=[];let d=0;for(let e=1,i=n.length;e<i;e++){const i=n[e].entries,t=s[s.length-1],o=i[0];0===t.getType()&&0===o.getType()&&o.originalLineStart<=t.originalLineEnd?(s[s.length-1]=new R(t.originalLineStart,o.originalLineEnd,t.modifiedLineStart,o.modifiedLineEnd),s=s.concat(i.slice(1))):(r[d++]=new k(s),s=i)}return r[d++]=new k(s),r}_findDiffIndex(e){const i=e.lineNumber;for(let e=0,t=this._diffs.length;e<t;e++){const t=this._diffs[e].entries;if(i<=t[t.length-1].modifiedLineEnd)return e}return 0}_render(){const i=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),d=n.getOptions(),l=r.getOptions();if(!this._isVisible||!n||!r)return s.w_(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const f=this._diffs[a].entries,h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),h.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,c.M)(h,t.get(46));let g=0,u=0,m=0,p=0;for(let e=0,i=f.length;e<i;e++){const i=f[e],t=i.originalLineStart,n=i.originalLineEnd,o=i.modifiedLineStart,s=i.modifiedLineEnd;0!==t&&(0===g||t<g)&&(g=t),0!==n&&(0===u||n>u)&&(u=n),0!==o&&(0===m||o<m)&&(m=o),0!==s&&(0===p||s>p)&&(p=s)}const _=document.createElement("div");_.className="diff-review-row";const b=document.createElement("div");b.className="diff-review-cell diff-review-summary";const w=u-g+1,v=p-m+1;b.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${g},${w} +${m},${v} @@`)),_.setAttribute("data-line",String(m));const L=e=>0===e?o.kg("no_lines_changed","no lines changed"):1===e?o.kg("one_line_changed","1 line changed"):o.kg("more_lines_changed","{0} lines changed",e),y=L(w),N=L(v);_.setAttribute("aria-label",o.kg({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,g,y,m,N)),_.appendChild(b),_.setAttribute("role","listitem"),h.appendChild(_);const E=t.get(61);let C=m;for(let o=0,s=f.length;o<s;o++){const s=f[o];e._renderSection(h,s,C,E,this._width,i,n,d,t,r,l,this._languageService.languageIdCodec),0!==s.modifiedLineStart&&(C=s.modifiedLineEnd)}s.w_(this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}static _renderSection(i,t,n,s,r,d,l,a,f,c,h,g){const u=t.getType();let m="diff-review-row",p="";let _=null;switch(u){case 1:m="diff-review-row line-insert",p=" char-insert",_=M;break;case 2:m="diff-review-row line-delete",p=" char-delete",_=I}const b=t.originalLineStart,w=t.originalLineEnd,v=t.modifiedLineStart,L=t.modifiedLineEnd,N=Math.max(L-v,w-b),E=d.get(133),C=E.glyphMarginWidth+E.lineNumbersWidth,x=f.get(133),S=10+x.glyphMarginWidth+x.lineNumbersWidth;for(let t=0;t<=N;t++){const w=0===b?0:b+t,L=0===v?0:v+t,N=document.createElement("div");N.style.minWidth=r+"px",N.className=m,N.setAttribute("role","listitem"),0!==L&&(n=L),N.setAttribute("data-line",String(n));const E=document.createElement("div");E.className="diff-review-cell",E.style.height=`${s}px`,N.appendChild(E);const x=document.createElement("span");x.style.width=C+"px",x.style.minWidth=C+"px",x.className="diff-review-line-number"+p,0!==w?x.appendChild(document.createTextNode(String(w))):x.innerText=" ",E.appendChild(x);const D=document.createElement("span");D.style.width=S+"px",D.style.minWidth=S+"px",D.style.paddingRight="10px",D.className="diff-review-line-number"+p,0!==L?D.appendChild(document.createTextNode(String(L))):D.innerText=" ",E.appendChild(D);const R=document.createElement("span");if(R.className="diff-review-spacer",_){const e=document.createElement("span");e.className=y.L0.asClassName(_),e.innerText="  ",R.appendChild(e)}else R.innerText="  ";let k;if(E.appendChild(R),0!==L){let i=this._renderLine(c,f,h.tabSize,L,g);e._ttPolicy&&(i=e._ttPolicy.createHTML(i)),E.insertAdjacentHTML("beforeend",i),k=c.getLineContent(L)}else{let i=this._renderLine(l,d,a.tabSize,w,g);e._ttPolicy&&(i=e._ttPolicy.createHTML(i)),E.insertAdjacentHTML("beforeend",i),k=l.getLineContent(w)}0===k.length&&(k=o.kg("blankLine","blank"));let M="";switch(u){case 0:M=w===L?o.kg({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",k,w):o.kg("equalLine","{0} original line {1} modified line {2}",k,w,L);break;case 1:M=o.kg("insertLine","+ {0} modified line {1}",k,L);break;case 2:M=o.kg("deleteLine","- {0} original line {1}",k,w)}N.setAttribute("aria-label",M),i.appendChild(N)}}static _renderLine(e,i,t,n,o){const s=e.getLineContent(n),r=i.get(46),d=m.f.createEmpty(s,o),l=w.qL.isBasicASCII(s,e.mightContainNonBasicASCII()),a=w.qL.containsRTL(s,l,e.mightContainRTL());return(0,b.Md)(new b.zL(r.isMonospace&&!i.get(29),r.canUseHalfwidthRightwardsArrow,s,!1,l,a,0,d,[],t,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,i.get(107),i.get(90),i.get(85),i.get(47)!==u.Bc.OFF,null)).html}};A._ttPolicy=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("diffReview",{createHTML:e=>e}),A=x([S(1,C.L)],A),(0,y.zy)(((e,i)=>{const t=e.getColor(_.Qt);t&&i.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const n=e.getColor(L.bXl);n&&i.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)}));class T extends h.ks{constructor(){super({id:"editor.action.diffReview.next",label:o.kg("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:v.M$.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,i){const t=V(e);t&&t.diffReviewNext()}}class P extends h.ks{constructor(){super({id:"editor.action.diffReview.prev",label:o.kg("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:v.M$.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,i){const t=V(e);t&&t.diffReviewPrev()}}function V(e){const i=e.get(g.T),t=i.listDiffEditors(),n=i.getActiveCodeEditor();if(!n)return null;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i.getModifiedEditor().getId()===n.getId()||i.getOriginalEditor().getId()===n.getId())return i}return null}(0,h.Fl)(T),(0,h.Fl)(P)},30254:function(e,i,t){t.d(i,{t:function(){return p}});var n=t(71386),o=t(87301),s=t(49084),r=t(59715),d=t(96655),l=t(82399),a=t(29879),f=t(89044),c=t(53909),h=t(52394),g=t(52230),u=function(e,i,t,n){var o,s=arguments.length,r=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,i,t,n);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(r=(s<3?o(r):s>3?o(i,t,r):o(i,t))||r);return s>3&&r&&Object.defineProperty(i,t,r),r},m=function(e,i){return function(t,n){i(t,n,e)}};let p=class extends s.x{constructor(e,i,t,n,o,s,r,d,l,a,f,c){super(e,Object.assign(Object.assign({},t.getRawOptions()),{overflowWidgetsDomNode:t.getOverflowWidgetsDomNode()}),{},n,o,s,r,d,l,a,f,c),this._parentEditor=t,this._overwriteOptions=i,super.updateOptions(this._overwriteOptions),this._register(t.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){n.co(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};p=u([m(3,l._Y),m(4,o.T),m(5,r.wT),m(6,d.fN),m(7,f.Gy),m(8,a.Ot),m(9,c.j),m(10,h.JZ),m(11,g.u)],p)},91144:function(e,i,t){t.d(i,{n:function(){return f}});var n=t(3765),o=t(14333),s=t(27969),r=t(10998),d=t(28061),l=t(26048),a=function(e,i,t,n){return new(t||(t=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function d(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(r,d)}l((n=n.apply(e,i||[])).next())}))};class f extends r.jG{constructor(e,i,t,r,f,c){super(),this._viewZoneId=e,this._marginDomNode=i,this.editor=t,this.diff=r,this._contextMenuService=f,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=l.W6.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const h=t.getOption(61),g=t.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${h}px`,this._diffActions.style.lineHeight=`${h}px`,this._marginDomNode.appendChild(this._diffActions);const u=[],m=0===r.modifiedEndLineNumber;u.push(new s.rc("diff.clipboard.copyDeletedContent",m?r.originalEndLineNumber>r.modifiedStartLineNumber?n.kg("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):n.kg("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.originalEndLineNumber>r.modifiedStartLineNumber?n.kg("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):n.kg("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(()=>a(this,void 0,void 0,(function*(){const e=new d.Q(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),i=r.originalModel.getValueInRange(e);yield this._clipboardService.writeText(i)})))));let p,_=0;r.originalEndLineNumber>r.modifiedStartLineNumber&&(p=new s.rc("diff.clipboard.copyDeletedLineContent",m?n.kg("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber):n.kg("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber),void 0,!0,(()=>a(this,void 0,void 0,(function*(){const e=r.originalModel.getLineContent(r.originalStartLineNumber+_);if(""===e){const e=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===e?"\n":"\r\n")}else yield this._clipboardService.writeText(e)})))),u.push(p));t.getOption(83)||u.push(new s.rc("diff.inline.revertChange",n.kg("diff.inline.revertChange.label","Revert this change"),void 0,!0,(()=>a(this,void 0,void 0,(function*(){const e=new d.Q(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),i=r.originalModel.getValueInRange(e);if(0===r.modifiedEndLineNumber){const e=t.getModel().getLineMaxColumn(r.modifiedStartLineNumber);t.executeEdits("diffEditor",[{range:new d.Q(r.modifiedStartLineNumber,e,r.modifiedStartLineNumber,e),text:g+i}])}else{const e=t.getModel().getLineMaxColumn(r.modifiedEndLineNumber);t.executeEdits("diffEditor",[{range:new d.Q(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,e),text:i}])}})))));const b=(e,i)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:i}),getActions:()=>(p&&(p.label=m?n.kg("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber+_):n.kg("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber+_)),u),autoSelectFirstItem:!0})};this._register(o.b2(this._diffActions,"mousedown",(e=>{const{top:i,height:t}=o.BK(this._diffActions),n=Math.floor(h/3);e.preventDefault(),b(e.posx,i+t+n)}))),this._register(t.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,_=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,h)):this.visibility=!1}else this.visibility=!1}))),this._register(t.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),_=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,h),b(e.event.posx,e.event.posy+h))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,i,t){const{top:n}=o.BK(e),s=i-n,r=Math.floor(s/t),d=r*t;if(this._diffActions.style.top=`${d}px`,this.diff.viewLineCounts){let e=0;for(let i=0;i<this.diff.viewLineCounts.length;i++)if(e+=this.diff.viewLineCounts[i],r<e)return i}return r}}}}]);
