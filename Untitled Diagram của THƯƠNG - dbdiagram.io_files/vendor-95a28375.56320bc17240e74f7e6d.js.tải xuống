!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d882ef1a-3bcd-4e51-8928-6d0c68de0ce7",e._sentryDebugIdIdentifier="sentry-dbid-d882ef1a-3bcd-4e51-8928-6d0c68de0ce7")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[8882],{72523:function(e,n,t){"use strict";var r=t(4650),o=t(83500),a=o.makeList,i=o.streamline,u=t(87853),l=t(45279),s=r((function(e,n){for(var t=n,o=!1,a="";t<e.length&&(o||!e.slice(t,t+2).match(/GO|;/i));)for(o&&e[t].match(/\]|'|"/i)&&e[t]===a?o=!1:!o&&e[t].match(/\[|"|'/i)&&(o=!0,a=e[t],"["===e[t]&&(a="]")),e[t].match(/\s/)||(t+=1);t<e.length&&e[t].match(/\s/);)t+=1;return e.slice(t,t+2).match(/GO/i)&&(t-=1),r.makeSuccess(t+1,"")})),c=r.createLanguage({pIgnore:function(){return s},pColumnNames:function(e){return a(r.seq(e.pIdentifier,e.pKeywordAscOrDesc.fallback(null)).map((function(e){return e[0]}))).desc("list of column names")},pDotDelimitedName:function(e){return r.sepBy1(e.pIdentifier,r.string(".")).desc("dot delimited identifier")},pOptionList:function(e){return a(e.pOption)},pOption:function(e){return r.seq(e.pIdentifier,u.Equal,r.seq(r.alt(e.pIdentifier,e.pString).many(),r.alt(e.pOptionList,a(e.pIdentifier.many())).fallback(null))).desc("option")},pComparsionOp:function(){return r.regex(/IS|IS[^\S\r\n]+NOT|=|<>|!=|>|>=|!>|<|<=|!</i).skip(l).desc("comparsion operator")},pConst:function(e){return r.alt(e.pString,e.pUnicode,e.pBinary,e.pScience,e.pMoney,e.pSigned,e.pNumber).desc("constant")},pFunction:function(e){return r.seq(e.pIdentifier,a(e.pFunctionParam,!0)).map((function(e){return"".concat(e[0],"(").concat(e[1].join(","),")")})).thru(i("function")).desc("function constant")},pFunctionParam:function(e){return r.alt(e.pNumber,e.pIdentifier).desc("identifier or number paremeter")},pMoney:function(e){return r.seq(r.regexp(/[+-]\$/),e.pNumber).thru(i("money")).desc("money constant")},pSigned:function(e){return r.seq(r.regexp(/[+-]/),e.pNumber).thru(i("signed")).desc("signed constant")},pUnicode:function(e){return r.seq(r.string("N"),e.pString).thru(i("unicode")).desc("unicode constant")},pString:function(){return r.regexp(/'[^']*'/).thru(i("string")).map((function(e){var n=e.value;return e.value=n.slice(1,n.length-1),e})).desc("string constant")},pNumberList:function(e){return a(e.pNumber).desc("list of number")},pNumber:function(){return r.regexp(/[0-9]+(\.[0-9]+)?/).map(Number).thru(i("number")).desc("number constant")},pBinary:function(){return r.regexp(/0x[A-F0-9]*/).thru(i("binary")).desc("binary constant")},pScience:function(){return r.regexp(/[+-]+[0-9]+(\.[0-9E]+)?/).thru(i("science")).desc("science constant")},pIdentifier:function(e){return r.alt(e.pRegularIdentifier,e.pDelimitedIdentifier).skip(l).desc("identifier")},pDelimitedIdentifier:function(e){return r.alt(e.pDQDelimitedIdentifier,e.pBracketDelimitedIdentifier).skip(l).desc("delimited identifier")},pRegularIdentifier:function(){return r.regexp(/^[\w@#][\w@#$]*/).skip(l)},pDQDelimitedIdentifier:function(){return r.seq(r.string('"'),r.regexp(/[^"]*/),r.string('"')).map((function(e){return e[1]})).skip(l)},pBracketDelimitedIdentifier:function(){return r.seq(r.string("["),r.regexp(/[^\]]*/),r.string("]")).map((function(e){return e[1]})).skip(l)},pKeywordPKOrUnique:function(){return r.alt(u.KeywordPrimaryKey.result({type:"pk",value:!0}),u.KeywordUnique.result({type:"unique",value:!0}))},pKeywordClusteredOrNon:function(){return r.alt(u.KeywordClustered,u.KeywordNonclustered)},pKeywordAscOrDesc:function(){return r.alt(u.KeywordAsc,u.KeywordDesc)}});e.exports=c},27051:function(e,n,t){"use strict";var r=t(2543);e.exports={makeColumn:function(e,n,t){var r={};return r[n.type]=n.value,t.forEach((function(e){e&&(r[e.type]=e.value)})),r.name=e[0],r.inline_refs||(r.inline_refs=[]),{type:"fields",value:r}},makeDataType:function(e,n){var t=n?n.join(","):null;return{type:"type",value:{type_name:t?"".concat(r.last(e),"(").concat(t,")"):r.last(e),schemaName:e.length>1?e[0]:null,args:t}}}}},62864:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pDotDelimitedName,u=a.pIdentifier,l=a.pNumberList,s=a.pOptionList,c=t(83500),f=c.makeNode,d=c.makeList,p=c.streamline,m=t(28402).pColumnIndex,y=t(67079).pColumnConstraint,h=t(93471),b=t(27051),v=r.createLanguage({ColumnsDefinition:function(e){return r.alt(e.ComputedColumnDefinition.result(null),e.ColumnSetDefinition.result(null),e.ColumnDefinition)},ColumnDefinition:function(e){return r.seqMap(i,e.DataType,r.alt(e.ColumnSetting,e.IgnoredColumnSetting.result(null)).many().fallback(null),b.makeColumn).thru(f())},ColumnSetDefinition:function(){return r.seq(u,o.KeywordColumnSet)},ComputedColumnDefinition:function(){return r.seq(u,o.KeywordAs,h,r.seq(o.KeywordPersisted,o.KeywordNotNull.fallback(null)).fallback(null),y.fallback(null))},ColumnSetting:function(e){return r.alt(e.NullOrNot,e.Identity,m,y)},IgnoredColumnSetting:function(e){return r.alt(e.ColumnSetting1Word,e.ColumnSettingWith,e.ColumnSettingGAAR,e.ColumnSettingCollate)},DataType:function(e){return r.seqMap(i,d(r.alt(e.DataTypeXML,u)).fallback(null),b.makeDataType)},DataTypeXML:function(){return r.seq(r.alt(o.KeywordDocument,o.KeywordContent),u).tieWith(" ")},NullOrNot:function(){return r.alt(o.KeywordNull.result(!1),o.KeywordNotNull.result(!0)).thru(p("not_null"))},Identity:function(){return o.KeywordIdentity.result(!0).skip(l.fallback(null)).thru(p("increment"))},ColumnSetting1Word:function(){return r.alt(o.KeywordFilestream,o.KeywordNFR,o.KeywordRowGUIDCol,o.KeywordSparse)},ColumnSettingWith:function(){return r.seq(r.alt(o.KeywordMasked,o.KeywordEncrypted),o.KeywordWith,s)},ColumnSettingCollate:function(){return r.seq(o.KeywordCollate,u)},ColumnSettingGAAR:function(){return r.seq(o.KeywordGeneratedAAR,r.alt(o.KeywordStart,o.KeywordEnd),o.KeywordHidden.fallback(null))}});e.exports={pIdentity:v.Identity,pColumnIndex:m,pColumnConstraint:y,pDataType:v.DataType,pColumnsDefinition:v.ColumnsDefinition}},59812:function(e){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports={makeConstraintCheckEnum:function(e,n,t){var r=[];return t.forEach((function(e){r.push({name:e.value.value,token:e.value.token})})),{type:"enums",value:{name:"".concat(e,"_enum"),values:r,fieldName:e}}},makeDefaultConstraint:function(e,n){var t={};if(n.type)switch(n.type){case"string":case"number":case"boolean":t.type=n.type;break;default:t.type="expression"}else t.type="expression";return t.value=n.value,{type:"dbdefault",value:t}},makeTableConstraint:function(e,n){return n?{type:n.type,value:r(r({},n.value),{},{name:"indexes"===n.type&&n.value.pk?null:e})}:null}}},67079:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(93471),i=t(72523),u=i.pIdentifier,l=i.pConst,s=i.pFunction,c=t(83500),f=c.makeList,d=c.streamline,p=c.makeNode,m=t(68811),y=m.pColumnConstraintFK,h=m.pTableConstraintFK,b=t(28402),v=b.pColumnConstraintIndex,w=b.pTableConstraintIndex,g=t(59812),C=r.createLanguage({TableConstraint:function(e){return r.seqMap(e.ConstraintName.fallback(null),e.TableConstraintOption,g.makeTableConstraint).thru(p())},TableConstraintOption:function(e){return r.alt(h,w,e.ConstraintCheck)},ColumnConstraint:function(e){return r.seq(e.ConstraintName.fallback(null),e.ColumnConstraintOption).map((function(e){return e[1]}))},ColumnConstraintOption:function(e){return r.alt(v,y,e.ConstraintCheck,e.ConstraintDefault)},ConstraintCheck:function(e){return r.seq(o.KeywordCheck,o.KeywordNFR.fallback(null),e.ConstraintCheckExpr).map((function(e){return e[2]}))},ConstraintCheckExpr:function(e){return r.alt(r.seq(o.LParen.fallback(null),e.ConstraintCheckEnum,o.RParen.fallback(null)).map((function(e){return e[1]})),a.thru(d("expression")))},ConstraintCheckEnum:function(){return r.seqMap(u,o.LogicalOpIn,f(l.thru(p())),g.makeConstraintCheckEnum).thru(p())},ConstraintDefault:function(e){return r.seqMap(o.KeywordDefault,e.ConstExpr,g.makeDefaultConstraint)},ConstExpr:function(e){return r.alt(r.seq(o.LParen,e.ConstExpr,o.RParen).map((function(e){return e[1]})),s,l,o.KeywordNull.thru(d("boolean")))},ConstraintName:function(){return r.seq(o.KeywordConstraint,u).map((function(e){return e[1]}))}});e.exports={pColumnConstraint:C.ColumnConstraint,pTableConstraint:C.TableConstraint,pConstraintCheck:C.ConstraintCheck,pConstraintName:C.ConstraintName,pConstExpr:C.ConstExpr,makeTableConstraint:g.makeTableConstraint}},93471:function(e,n,t){"use strict";var r=t(4650),o=t(2543),a=t(72523),i=a.pFunction,u=a.pDotDelimitedName,l=a.pConst,s=t(87853),c=s.LParen,f=s.RParen,d=t(45279),p=t(83500).streamline;function m(e){return e.many().map((function(e){return e.join("")})).fallback(null).thru(p("token"))}function y(e){return r.alt(function(e){var n=f.thru(m),t=c.thru(m);return r.seq(t,e,n)}(e),e)}var h=r.createLanguage({ExpressionFinal:function(e){return e.Expression.map((function(e){return o.flattenDeep(e).map((function(e){return e?e.value:""})).join("")}))},Expression:function(e){return y(r.seq(r.alt(e.UnaryExpression,e.SimpleExpression),e.BinaryExpressionLR.fallback(null)).skip(d))},UnaryExpression:function(e){var n=r.regex(/[+\-~]/).thru(p("unary_operator"));return y(r.seq(n,e.Expression).skip(d))},BinaryExpressionLR:function(e){var n=r.regexp(/[+\-*/%=!<>&^|]{1,2}/).map((function(e){return" ".concat(e," ")})).thru(p("binary_operator")).skip(d);return r.seq(n,e.Expression).skip(d)},SimpleExpression:function(e){return y(r.alt(i,l,e.ExpressionDDN).skip(d))},ExpressionDDN:function(){return u.map((function(e){return e.join(".")})).thru(p("identifier"))}});e.exports=h.ExpressionFinal},74280:function(e,n,t){"use strict";t(2543);var r=t(83500).getFullTableName;function o(e,n){n.forEach((function(n){n.type.match(/ON[^\S\r\n]DELETE/i)&&(e.onDelete=n.setting),n.type.match(/ON[^\S\r\n]UPDATE/i)&&(e.onUpdate=n.setting)}))}e.exports={makeOnSetting:function(e,n){return{type:e,setting:n.toLowerCase().trim().split(/[ ]+/).join(" ")}},makeColumnConstraintFK:function(e,n,t,a){var i={},u=r(n);return i.endpoint=function(e,n,t){return{tableName:e.name,schemaName:e.schemaName,fieldNames:n,relation:t}}(u,t,"1"),o(i,a),{type:"inline_refs",value:[i]}},makeTableConstraintFK:function(e,n,t,a,i,u){var l={},s=r(a);return i||(i={type:"endpoint",value:{fieldNames:null}}),n.value.relation="*",i.value.relation="1",i.value.tableName=s.name,i.value.schemaName=s.schemaName,l.endpoints=[n.value,i.value],o(l,u),{type:"refs",value:l}},makeTableEndpoint:function(e){return{type:"endpoint",value:{fieldNames:e}}}}},68811:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pDotDelimitedName,u=a.pIdentifier,l=a.pColumnNames,s=t(83500),c=s.makeList,f=s.makeNode,d=t(74280),p=r.createLanguage({TableConstraintFK:function(e){return r.seqMap(o.KeywordForeignKey.fallback(null),e.TableEndpoint,o.KeywordReferences,i,e.TableEndpoint.fallback(null),e.FKOptions.fallback(null),d.makeTableConstraintFK)},TableEndpoint:function(){return r.seqMap(l,d.makeTableEndpoint).thru(f())},ColumnConstraintFK:function(e){return r.seqMap(e.FKKeywords,i,c(u).fallback(null),e.FKOptions.fallback(null),d.makeColumnConstraintFK)},FKOptions:function(e){return r.alt(e.FKOnDelete,e.FKOnUpdate,e.FKNFR).many()},FKKeywords:function(){return r.seq(o.KeywordForeignKey.fallback(null),o.KeywordReferences)},FKOnDelete:function(e){return r.seqMap(o.KeywordOnDelete,e.FKOnOptions,d.makeOnSetting)},FKOnUpdate:function(e){return r.seqMap(o.KeywordOnUpdate,e.FKOnOptions,d.makeOnSetting)},FKNFR:function(){return o.KeywordNFR.map((function(e){return{type:e}}))},FKOnOptions:function(){return r.alt(o.KeywordNoAction,o.KeywordCascade,o.KeywordSetDefault,o.KeywordSetNull)}});e.exports={pColumnConstraintFK:p.ColumnConstraintFK,pTableConstraintFK:p.TableConstraintFK}},21921:function(e,n,t){"use strict";var r=t(2936);r.parseWithPegError=function(e){try{return r.tryParse(e)}catch(r){var n={name:"SyntaxError"};console.error(r),n.location={},n.location.start=r.result.index,n.found=e[n.location.start.offset];var t=r.result.expected.pop(),o="".concat(r.result.expected.join(", "),", or ").concat(t);throw n.message="Expected ".concat(o,' but "').concat(n.found,'" found.'),n}},e.exports=r},93713:function(e){"use strict";function n(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[];return e.forEach((function(e){o.push({value:e,type:"column"})})),{type:"indexes",value:{name:r,unique:!!n||null,pk:!!t||null,columns:o}}}e.exports={makeTableIndex:function(e,t,r,o,a,i){return n(i,r,null,t)},makeTableConstraintIndex:function(e,t,r){var o=null,a=null;return"pk"===e.type?o=!0:"unique"===e.type&&(a=!0),n(r,a,o)},makeColumnIndex:function(e,n){return{type:"indexes",value:{name:n,columns:[]}}}}},28402:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pIdentifier,u=a.pKeywordClusteredOrNon,l=a.pFunction,s=a.pOptionList,c=a.pColumnNames,f=a.pKeywordPKOrUnique,d=a.pOption,p=t(83500).makeNode,m=t(93713),y=r.createLanguage({TableIndex:function(e){return r.seqMap(o.KeywordIndex,i,o.KeywordUnique.fallback(null),u.fallback(null),o.KeywordColumnStore.fallback(null),c,m.makeTableIndex).thru(p()).skip(e.IgnoredIndexOptions)},TableConstraintIndex:function(e){return r.seqMap(f,u.fallback(null),c,m.makeTableConstraintIndex).thru(p()).skip(e.IgnoredIndexOptions)},ColumnConstraintIndex:function(e){return r.seq(f).skip(e.IgnoredIndexOptions).map((function(e){return e[0]}))},ColumnIndex:function(e){return r.seqMap(o.KeywordIndex,i,m.makeColumnIndex).thru(p()).skip(e.IgnoredIndexOptions)},IgnoredIndexOptions:function(e){return r.alt(u,e.IgnoredIndexOption).many()},IgnoredIndexOption:function(e){return r.alt(e.WithIndexOption,e.ColumnIndexFilestream,e.OnIndexOption,e.WithFillFactorOption)},WithIndexOption:function(){return r.seq(o.KeywordWith,s)},WithFillFactorOption:function(){return r.seq(o.KeywordWith,d)},OnIndexOption:function(){return r.seq(o.KeywordOn,r.alt(i,l))},ColumnIndexFilestream:function(){return r.seq(o.KeywordFilestream_On,i)}});e.exports={pColumnIndex:y.ColumnIndex,pIgnoredIndexOption:y.IgnoredIndexOption,pTableIndex:y.TableIndex,pColumnConstraintIndex:y.ColumnConstraintIndex,pTableConstraintIndex:y.TableConstraintIndex}},87853:function(e,n,t){"use strict";var r=t(38980),o=r.keyword,a=r.word;n.KeywordIdentity=o(/IDENTITY/i),n.KeywordIndex=o(/INDEX/i),n.KeywordWith=o(/WITH/i),n.KeywordOn=o(/ON/i),n.KeywordOff=o(/OFF/i),n.KeywordFilestream_On=o(/FILESTREAM_ON/i),n.KeywordPrimaryKey=o(/PRIMARY KEY/i),n.KeywordClustered=o(/CLUSTERED/i),n.KeywordNonclustered=o(/NONCLUSTERED/i),n.KeywordColumnStore=o(/COLUMNSTORE/i),n.KeywordReferences=o(/REFERENCES/i),n.KeywordForeignKey=o(/FOREIGN KEY/i),n.KeywordCheck=o(/CHECK/i),n.KeywordConstraint=o(/CONSTRAINT/i),n.KeywordUnique=o(/UNIQUE/i),n.KeywordHash=o(/HASH/i),n.KeywordBucket_Count=o(/BUCKET_COUNT/i),n.KeywordNFR=o(/NOT FOR REPLICATION/),n.KeywordOnDelete=o(/ON DELETE/i),n.KeywordOnUpdate=o(/ON UPDATE/i),n.KeywordSetNull=o(/SET NULL/i),n.KeywordSetDefault=o(/SET DEFAULT/i),n.KeywordNoAction=o(/NO ACTION/i),n.KeywordCascade=o(/CASCADE/i),n.KeywordContent=o(/CONTENT/i),n.KeywordDocument=o(/DOCUMENT/i),n.KeywordNull=o(/NULL/i),n.KeywordNotNull=o(/NOT NULL/i),n.KeywordDefault=o(/DEFAULT/i),n.KeywordFilestream=o(/FILESTREAM/i),n.KeywordCollate=o(/COLLATE/i),n.KeywordSparse=o(/SPARSE/i),n.KeywordRowGUIDCol=o(/ROWGUIDCOL/i),n.KeywordMasked=o(/MASKED/i),n.KeywordEncrypted=o(/ENCRYPTED/i),n.KeywordFunction=o(/FUNCTION/i),n.KeywordGeneratedAAR=o(/GENERATED ALWAYS AS ROW/i),n.KeywordStart=o(/START/i),n.KeywordEnd=o(/END/i),n.KeywordHidden=o(/HIDDEN/i),n.KeywordAsc=o(/ASC/i),n.KeywordDesc=o(/DESC/i),n.KeywordTextImage_On=o(/TEXTIMAGE_ON/i),n.KeywordPeriodForST=o(/PERIOD FOR SYSTEM_TIME/i),n.KeywordFileTable=o(/FILETABLE/i),n.KeywordTable=o(/TABLE/i),n.KeywordCreate=o(/CREATE/i),n.KeywordAs=o(/AS/i),n.KeywordPersisted=o(/PERSISTED/i),n.KeywordColumnSet=o(/XML COLUMN_SET FOR ALL_SPARSE_COLUMNS/i),n.KeywordInclude=o(/INCLUDE/i),n.KeywordIn=o(/IN/i),n.KeywordWhere=o(/WHERE/i),n.KeywordFor=o(/FOR/i),n.KeywordWithValues=o(/WITH VALUES/i),n.KeywordConnection=o(/CONNECTION/i),n.KeywordTo=o(/TO/i),n.KeywordAlter=o(/ALTER/i),n.KeywordAdd=o(/ADD/i),n.KeywordSet=o(/SET/i),n.KeywordRebuild=o(/REBUILD/i),n.KeywordSwitch=o(/SWITCH/i),n.KeywordEnable=o(/ENABLE/i),n.KeywordDisable=o(/DISABLE/i),n.KeywordNoCheck=o(/NOCHECK/i),n.KeywordDrop=o(/DROP/i),n.KeywordAlterColumn=o(/ALTER COLUMN/i),n.KeywordGo=o(/GO/i),n.KeywordBulkInsert=o(/BULK INSERT/i),n.KeywordInsert=o(/INSERT/i),n.KeywordUpdate=o(/UPDATE/i),n.KeywordMerge=o(/MERGE/i),n.KeywordTruncateTable=o(/TRUNCATE TABLE/i),n.KeywordBackup=o(/BACKUP/i),n.KeywordRestore=o(/RESTORE/i),n.KeywordCollate=o(/COLLATE/i),n.KeywordClose=o(/CLOSE/i),n.KeywordDeny=o(/DENY/i),n.KeywordExecute=o(/EXECUTE/i),n.KeywordExec=o(/EXEC/i),n.KeywordGrant=o(/GRANT/i),n.KeywordOpen=o(/OPEN/i),n.KeywordRevoke=o(/REVOKE/i),n.KeywordSet=o(/SET/i),n.KeywordBegin=o(/BEGIN/i),n.KeywordGet=o(/GET/i),n.KeywordEnd=o(/END/i),n.KeywordMove=o(/MOVE/i),n.KeywordReceive=o(/RECEIVE/i),n.KeywordSend=o(/SEND/i),n.KeywordRename=o(/RENAME/i),n.KeywordDelete=o(/DELETE/i),n.KeywordIf=o(/IF/i),n.KeywordSP_ADDEXTENDEDPROPERTY=o(/sp_addextendedproperty/i),n.LogicalOpIn=o(/IN/i),n.LogicalOpAnd=o(/AND/i),n.LessThan=a("<"),n.GreaterThan=a(">"),n.LParen=a("("),n.Comma=a(","),n.RParen=a(")"),n.DoubleQuote=a('"'),n.SingleQuote=a("'"),n.LBracket=a("["),n.RBracket=a("]"),n.Equal=a("="),n.Semicolon=a(";"),n.KeywordAtName=o(/@name/i),n.KeywordAtValue=o(/@value/i),n.KeywordAtLevel0Type=o(/@level0type/i),n.KeywordAtLevel0Name=o(/@level0name/i),n.KeywordAtLevel1Type=o(/@level1type/i),n.KeywordAtLevel1Name=o(/@level1name/i),n.KeywordAtLevel2Type=o(/@level2type/i),n.KeywordAtLevel2Name=o(/@level2name/i)},38980:function(e,n,t){"use strict";var r=t(4650),o=t(45279);n.word=function(e){return r.string(e).skip(o).desc('"'.concat(e,'"'))},n.keyword=function(e){var n,t=e.source;return n=function(e){var n=String(e),t=(n=n.replace(/[\s]+/g,"\\s+")).lastIndexOf("/");return new RegExp(n.slice(1,t),n.slice(t+1))}(e),r.regexp(n).skip(o).desc('"'.concat(t,'"'))}},45299:function(e,n,t){"use strict";var r=t(2543);function o(e,n,t){var r=t||"public";return e.tables.find((function(e){return(e.schemaName||"public")===r&&e.name===n}))}function a(e,n){return e.fields.find((function(e){return e.name===n}))}function i(e,n){e.forEach((function(e){n.push(e)}))}function u(e,n){"table"===e.type?function(e,n){var t=e.schemaName;"dbo"===t&&(t=null);var r=o(n,e.tableName,t);r&&(r.note=e.note?{value:e.note}:null)}(e,n):"column"===e.type&&function(e,n){var t=e.schemaName;"dbo"===t&&(t=null);var r=o(n,e.tableName,t);if(r){var i=a(r,e.columnName);i&&(i.note=e.note?{value:e.note}:null)}}(e,n)}e.exports={handleStatement:function(e){var n={tables:[],refs:[],indexes:[],enums:[]};return r.flatten(e).forEach((function(e){if(e){switch(e.type){case"tables":!function(e,n){i(e.enums,n.enums),i(e.refs,n.refs),e.enums.forEach((function(e){e.fieldName=null})),e.enums=null,e.refs=null}(e.value,n);break;case"indexes":!function(e,n){o(n,e.tableName,e.schemaName).indexes.push(e),e.tableName=null}(e.value,n);break;case"dbdefault":!function(e,n){var t=a(o(n,e.tableName,e.schemaName),e.fieldName);e.fieldName=null,e.tableName=null,t.dbdefault=e}(e.value,n);break;case"enums":!function(e,n){var t=a(o(n,e.tableName,e.schemaName),e.fieldName);e.name="".concat(e.tableName,"_").concat(e.fieldName,"_enum"),e.fieldName=null,e.tableName=null,t.type.type_name=e.name,t.type.args=e.values.map((function(e){return"'".concat(e.name,"'")})).join(", ")}(e.value,n);break;case"comment":u(e.value,n)}e.type&&n[e.type]&&n[e.type].push(e.value)}})),n.indexes=null,n}}},2936:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(31416),i=t(45279),u=t(45299),l=t(72523).pIgnore,s=r.createLanguage({Statements:function(e){return i.then(e.Seperator).then(r.sepBy(e.StatementTypes,e.Seperator)).skip(e.Seperator).map(u.handleStatement)},StatementTypes:function(e){return r.alt(a.pCreateIndex,a.pCreateTable,a.pAlterTable,a.pCommentSyntax,e.IgnoredStatementTypes)},IgnoredStatementTypes:function(e){return r.seq(e.IgnoredStatementSyntax,l)},IgnoredStatementSyntax:function(e){return r.alt(e.IgnoredDDLSyntax,e.IgnoredDMLSyntax,e.IgnoredBackupAndRestoreSyntax,e.IgnoredServiceBrokerSyntax,e.IgnoredPermissionSyntax,o.KeywordAdd,o.KeywordClose,o.KeywordSet,o.KeywordIf)},IgnoredDDLSyntax:function(e){return r.alt(e.KeywordCreateWithoutTable,e.KeywordAlterWithoutTable,o.KeywordCollate,o.KeywordDrop,o.KeywordRename,o.KeywordEnable,o.KeywordDisable)},IgnoredDMLSyntax:function(){return r.alt(o.KeywordBulkInsert,o.KeywordInsert,o.KeywordUpdate,o.KeywordMerge,o.KeywordTruncateTable,o.KeywordDelete)},IgnoredServiceBrokerSyntax:function(){return r.alt(o.KeywordBegin,o.KeywordEnd,o.KeywordMove,o.KeywordReceive,o.KeywordSend)},IgnoredPermissionSyntax:function(){return r.alt(o.KeywordDeny,o.KeywordExecute,o.KeywordGrant,o.KeywordOpen,o.KeywordRevoke)},IgnoredBackupAndRestoreSyntax:function(){return r.alt(o.KeywordBackup,o.KeywordRestore)},KeywordCreateWithoutTable:function(){return o.KeywordCreate.notFollowedBy(o.KeywordTable)},KeywordAlterWithoutTable:function(){return o.KeywordAlter.notFollowedBy(o.KeywordTable)},Seperator:function(){return r.alt(o.Semicolon,o.KeywordGo,r.seq(o.Semicolon,o.KeywordGo)).many()}});e.exports=s.Statements},48395:function(e,n,t){"use strict";t(2543);var r=t(83500).getFullTableName;e.exports={handleAlterTableResult:function(e,n,t){if(!t)return null;var o=r(n);return t.forEach((function(e){if(e)switch(e.type){case"refs":!function(e,n){var t=n.value.endpoints.find((function(e){return!e.tableName}));t.tableName=e.name,t.schemaName=e.schemaName}(o,e);break;case"indexes":case"dbdefault":case"enums":!function(e,n){n.value.tableName=e.name,n.value.schemaName=e.schemaName}(o,e)}})),t}}},98487:function(e,n,t){"use strict";var r=t(67079).makeTableConstraint;e.exports={makeTableConstraint:r,makeDefault:function(e,n,t,r,o){var a={};if(n.type)switch(n.type){case"string":case"number":case"boolean":a.type=n.type;break;default:a.type="expression"}else a.type="expression";return a.value=n.value,a.fieldName=r,{type:"dbdefault",value:a}}}},45356:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523).pIdentifier,i=t(83500),u=i.makeNode,l=i.makeList,s=t(98487),c=t(68811).pTableConstraintFK,f=t(28402).pTableConstraintIndex,d=t(67079),p=d.pConstraintCheck,m=d.pConstExpr,y=d.pConstraintName,h=t(62864).pColumnsDefinition,b=r.createLanguage({AddAction:function(e){return r.seq(o.KeywordAdd,e.AddOption.sepBy1(o.Comma)).map((function(e){return e[1]}))},AddOption:function(e){return r.alt(e.AddConstraint,h.result(null),e.IgnoredAddSystemTimeOption.result(null))},IgnoredAddSystemTimeOption:function(){return r.alt(a,r.regexp(/[(),]/)).many()},AddConstraint:function(e){return r.seqMap(y.fallback(null),e.AddConstraintOption,s.makeTableConstraint).thru(u())},AddConstraintOption:function(e){return r.alt(c,f,p,e.AddConstraintDefault,e.IgnoredAddConstraintOption.result(null))},IgnoredAddConstraintOption:function(e){return r.alt(e.AddConstraintConnection)},AddConstraintDefault:function(){return r.seqMap(o.KeywordDefault,m,o.KeywordFor,a,o.KeywordWithValues.fallback(null),s.makeDefault)},AddConstraintConnection:function(){return r.seq(o.KeywordConnection,l(r.seq(a,o.KeywordTo,a)))}});e.exports=b.AddAction},71792:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pDotDelimitedName,u=a.pIgnore,l=t(48395),s=t(45356),c=r.createLanguage({AlterTable:function(e){return r.seqMap(e.AlterTableKeywords,i,e.AlterTableActions,l.handleAlterTableResult)},AlterTableActions:function(e){return r.alt(s,e.IgnoredAlterTableActions)},AlterTableKeywords:function(){return r.seq(o.KeywordAlter,o.KeywordTable)},IgnoredAlterTableActions:function(e){return r.seq(e.IgnoredAlterTableActionKeywords,u).result(null)},IgnoredAlterTableActionKeywords:function(){return r.alt(o.KeywordWith,o.KeywordAlterColumn,o.KeywordDrop,o.KeywordEnable,o.KeywordDisable,o.KeywordCheck,o.KeywordSwitch,o.KeywordSet,o.KeywordRebuild)}});e.exports=c.AlterTable},6320:function(e){"use strict";var n=function(e){return"schema"===e.toLowerCase()},t=function(e){return"table"===e.toLowerCase()};e.exports={handleComment:function(e){var r=e.note,o=e.level,a="unsupported",i=null,u=null,l=null;return!function(e){return 2===e.length&&n(e[0].type)&&t(e[1].type)}(o)?function(e){return 3===e.length&&n(e[0].type)&&t(e[1].type)&&"column"===e[2].type.toLowerCase()}(o)&&(i=o[0].name,u=o[1].name,l=o[2].name,a="column"):(i=o[0].name,u=o[1].name,a="table"),{type:"comment",value:{type:a,note:r,schemaName:i,tableName:u,columnName:l}}}}},55251:function(e,n,t){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var a=t(4650),i=t(87853),u=t(6320),l=t(83500).makeNode,s=a.createLanguage({StartComment:function(){return a.seq(i.KeywordExec,i.KeywordSP_ADDEXTENDEDPROPERTY)},EndComment:function(){return a.seq(i.Semicolon.atMost(1),i.KeywordGo)},StartString:function(){return a.alt(i.SingleQuote,a.string("N'"))},ManyDoubleSingleQuote:function(){return a.string("''")},NoSingleQuote:function(){return a.regex(/[^']/)},StringType:function(e){return a.alt(e.NoSingleQuote,e.ManyDoubleSingleQuote).atLeast(1).map((function(e){return e.join("")}))},NVarchar:function(e){return e.StartString.then(e.StringType).skip(i.SingleQuote)},NameOption:function(e){return i.KeywordAtName.skip(i.Equal).then(e.NVarchar)},ValueOption:function(e){return i.KeywordAtValue.skip(i.Equal).then(e.NVarchar)},Level0Type:function(e){return i.KeywordAtLevel0Type.skip(i.Equal).then(e.NVarchar)},Level0Name:function(e){return i.KeywordAtLevel0Name.skip(i.Equal).then(e.NVarchar)},Level1Type:function(e){return i.KeywordAtLevel1Type.skip(i.Equal).then(e.NVarchar)},Level1Name:function(e){return i.KeywordAtLevel1Name.skip(i.Equal).then(e.NVarchar)},Level2Type:function(e){return i.KeywordAtLevel2Type.skip(i.Equal).then(e.NVarchar)},Level2Name:function(e){return i.KeywordAtLevel2Name.skip(i.Equal).then(e.NVarchar)},Level0Stmt:function(e){return a.seqObj(["type",e.Level0Type],i.Comma,["name",e.Level0Name])},Level1Stmt:function(e){return a.seqObj(["type",e.Level1Type],i.Comma,["name",e.Level1Name])},Level2Stmt:function(e){return a.seqObj(["type",e.Level2Type],i.Comma,["name",e.Level2Name])},Level0Wrapper:function(e){return a.alt(a.seq(e.Level0Stmt.skip(i.Comma),e.Level1Wrapper),e.Level0Stmt).map((function(e){return Array.isArray(e)?[e[0]].concat(r(e[1])):[e]})).atMost(1).map((function(e){return 1===e.length?e[0]:e}))},Level1Wrapper:function(e){return a.alt(a.seq(e.Level1Stmt.skip(i.Comma),e.Level2Stmt),e.Level1Stmt).map((function(e){return Array.isArray(e)?e:[e]}))},CommentSyntax:function(e){return a.seqObj(e.StartComment,["name",e.NameOption],i.Comma,["note",e.ValueOption],i.Comma,["level",e.Level0Wrapper],e.EndComment).map(u.handleComment).thru(l())}});e.exports=s.CommentSyntax},33141:function(e,n,t){"use strict";var r=t(83500).getFullTableName;e.exports={makeIndex:function(e,n,t,o,a,i,u,l){var s=r(u),c=[];return l.forEach((function(e){c.push({value:e,type:"column"})})),{type:"indexes",value:{name:a,unique:!!n||null,tableName:s.name,schemaName:s.schemaName,columns:c}}}}},60758:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pIdentifier,u=a.pKeywordClusteredOrNon,l=a.pConst,s=a.pColumnNames,c=a.pDotDelimitedName,f=a.pComparsionOp,d=t(83500),p=d.makeNode,m=d.makeList,y=t(33141),h=t(28402).pIgnoredIndexOption,b=r.createLanguage({CreateIndex:function(e){return r.seqMap(o.KeywordCreate,o.KeywordUnique.fallback(null),u.fallback(null),o.KeywordIndex,i,o.KeywordOn,c,s,y.makeIndex).thru(p()).skip(e.IgnoredCreateIndexOptions)},IgnoredCreateIndexOptions:function(e){return r.alt(h,e.IncludeIndexOption,e.WhereIndexOption).many()},IncludeIndexOption:function(){return r.seq(o.KeywordInclude,s)},WhereIndexOption:function(e){return r.seq(o.KeywordWhere,e.FilterPredicate)},FilterPredicate:function(e){return r.seq(e.Conjunct,r.seq(o.LogicalOpAnd,e.Conjunct).fallback(null))},Conjunct:function(e){return r.alt(e.Disjunct,e.Comparsion)},Disjunct:function(){return r.seq(i,o.KeywordIn,m(l))},Comparsion:function(){return r.seq(i,f,l)}});e.exports=b.CreateIndex},2530:function(e,n,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===r(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t(2543);var u=t(83500).getFullTableName;e.exports={makeTable:function(e,n,t,r){var o=u(n),i=function(e,n){var t={fields:[],enums:[],refs:[],indexes:[]};return e.forEach((function(e){if(e&&t[e.type]){if("fields"===e.type&&(function(e,n,t){if(n.enums){var r=n.enums,o=n.type;r.name="".concat(t.schemaName?"".concat(t.schemaName,"_"):"").concat(t.name,"_").concat(n.enums.name),o.type_name=r.name,o.args=r.values.map((function(e){return"'".concat(e.name,"'")})).join(", "),e.push(r),n.enums=null}}(t.enums,e.value,n),o=t.indexes,(a=e.value).indexes&&(a.indexes.columns.push({value:a.name,type:"column"}),o.push(a.indexes),a.indexes=null),function(e,n,t,r){if(n&&0!==n.length){var o={},a=n[0];o.onUpdate=a.onUpdate,o.onDelete=a.onDelete,o.endpoints=[],o.endpoints.push({tableName:r.name,schemaName:r.schemaName,fieldNames:[t],relation:"*"}),a.endpoint.fieldNames||(a.endpoint.fieldNames=o.endpoints[0].fieldNames),o.endpoints.push(a.endpoint),e.push(o)}}(t.refs,e.value.inline_refs,e.value.name,n)),"refs"===e.type){var r=e.value;r.endpoints[0].tableName=n.name,r.endpoints[0].schemaName=n.schemaName}t[e.type].push(e.value)}var o,a})),{type:"lines",value:t}}(r,o);return{type:"tables",value:a(a({},o),i.value)}}}},79158:function(e,n,t){"use strict";var r=t(4650),o=t(87853),a=t(72523),i=a.pIdentifier,u=a.pDotDelimitedName,l=t(83500),s=l.makeNode,c=l.makeList,f=t(67079).pTableConstraint,d=t(28402),p=d.pTableIndex,m=d.pIgnoredIndexOption,y=t(62864).pColumnsDefinition,h=t(2530),b=r.createLanguage({CreateTable:function(e){return r.seqMap(e.CreateTableKeywords,u,e.AsFileTableKeywords.fallback(null),c(e.Line),h.makeTable).thru(s()).skip(e.IgnoredTableOptions)},CreateTableKeywords:function(){return r.seq(o.KeywordCreate,o.KeywordTable)},AsFileTableKeywords:function(){return r.seq(o.KeywordAs,o.KeywordFileTable)},Line:function(e){return r.alt(e.SystemTimeTableOption,f,p,y)},SystemTimeTableOption:function(){return r.seq(o.KeywordPeriodForST,c(i)).result(null)},IgnoredTableOptions:function(e){return r.alt(m,e.TextImageTableOption).many()},TextImageTableOption:function(){return r.seq(o.KeywordTextImage_On,i)}});e.exports=b.CreateTable},31416:function(e,n,t){"use strict";var r=t(71792),o=t(60758),a=t(79158),i=t(55251);e.exports={pAlterTable:r,pCreateIndex:o,pCreateTable:a,pCommentSyntax:i}},83500:function(e,n,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=t(4650),a=t(2543),i=t(87853),u=i.LParen,l=i.RParen,s=i.Comma,c=t(45279);n.makeNode=function(){return function(e){return o.seqMap(o.index,e,o.index,(function(n,t,o){return t?("object"!==r(t.value)&&(t.value={value:t.value}),t.value.token={start:n,end:o},t):e})).skip(c)}},n.makeList=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.sepBy1(s);return n&&(t=e.sepBy(s)),o.seq(u,t,l).map((function(e){return e[1]}))},n.streamline=function(e){return function(n){return n.skip(c).map((function(n){return 0===n||n||(n=""),{type:e,value:n}}))}},n.getFullTableName=function(e){var n=null;return e.length>1&&(n=e[e.length-2]),{name:a.last(e),schemaName:n}}},45279:function(e,n,t){"use strict";var r=t(4650),o=r.createLanguage({WhiteSpaces:function(e){return r.alt(e.WhiteSpace,e.InlineComment,e.MulLineComment).many().desc("whitespaces or comments")},WhiteSpace:function(){return r.regexp(/\s/).desc("whitespaces")},InlineComment:function(){return r.seq(r.string("--"),r.regexp(/[^\n\r]*/)).desc("comments")},MulLineComment:function(){return r.regexp(/\/\*[\s\S]+?\*\//).desc("comments")}});e.exports=o.WhiteSpaces},54777:function(e,n,t){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=((r=t(21921))&&r.__esModule?r:{default:r}).default;n.default=o},78832:function(e,n,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===r(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t(2543),t(5246);function u(e,n,t,r){this.message=e,this.expected=n,this.found=t,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,u)}!function(e,n){function t(){this.constructor=e}t.prototype=n.prototype,e.prototype=new t}(u,Error),u.buildMessage=function(e,n){var t={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var n,t="";for(n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?a(e.parts[n][0])+"-"+a(e.parts[n][1]):a(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var n,r,o,a=new Array(e.length);for(n=0;n<e.length;n++)a[n]=(o=e[n],t[o.type](o));if(a.sort(),a.length>0){for(n=1,r=1;n<a.length;n++)a[n-1]!==a[n]&&(a[r]=a[n],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(n)+" found."},e.exports={SyntaxError:u,parse:function(e,n){n=void 0!==n?n:{};var r,o={},i={schema:He},l=He,s=function(){return function(e){for(var n=e.tables,t=e.refs,r=n.map((function(e){var n=e.name,t=fn.singular(n);return{name:n,field:"".concat(t,"_id")}})),o=0;o<n.length;o+=1)for(var a=n[o],i=a.fields,u=function(){var e=i[l],n=r.find((function(n){return n.field===e.name}));if(n){var o={name:"fk_rails_".concat(a.name,"_").concat(n.name),endpoints:[{tableName:a.name,fieldNames:[e.name],relation:"1"},{tableName:n.name,fieldNames:["id"],relation:"1"}]};t.find((function(e){return bn(e,o)}))||t.push(o)}},l=0;l<i.length;l+=1)u();return e}(pn)},c=function(e){var n=e.table,t=e.refs;!function(e){if(pn.tables.find((function(n){return n.name==e.name})))_e("Duplicated table name");else{e.fields.find((function(e){return"id"===e.name}))||e.fields.unshift({name:"id",type:{type_name:"varchar"}}),pn.tables.push(e)}}(n),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||0===e.length)return;for(var n=0;n<e.length;n+=1)vn(e[n])}(t)},f=function(e){vn(e)},d=",",p=je(",",!1),m=function(e,n,t){var r=function(e){var n=pn.tables,t=e.endpoints,r=n.find((function(e){return e.name===t[0].tableName}));if(!r)return null;var o=n.find((function(e){return e.name===t[1].tableName}));if(!o)return null;if(!t[0].fieldNames){var a=fn.singular(t[1].tableName),i="".concat(a,"_id");if(t[0].fieldNames=[i],!r.fields.find((function(e){return e.name===i})))return null;t[0].fieldNames=[i]}if(!t[1].fieldNames){var u="id";t[1].fieldNames=[u]}return e}(function(e,n,t){for(var r=[{tableName:e,relation:"1"},{tableName:n,relation:"1"}],o={},i=0;i<t.length;i+=1){var u=t[i];u.columnName&&(r[0].fieldNames=[u.columnName]),u.primaryKey&&(r[1].fieldNames=[u.primaryKey]),u.onDelete&&(o=a(a({},o),{},{onDelete:u.onDelete})),u.onUpdate&&(o=a(a({},o),{},{onUpdate:u.onUpdate}))}return a({name:"fk_rails_".concat(e,"_").concat(n),endpoints:r},o)}(e,n,t));return r},y=":",h=je(":",!1),b=function(e){return{columnName:e}},v=function(e){return{primaryKey:e}},w=function(e,n){switch(e.toLowerCase()){case"on_delete":return{onDelete:n.split("_").join(" ")};case"on_update":return{onUpdate:n.split("_").join(" ")}}},g=function(e,n){var t={name:e,fields:mn(n.fields)};return{table:t,refs:wn(t,n.references)}},C=function(e){return{fields:e.filter((function(e){return e.isField})).map((function(e){return e.field})),index:e.filter((function(e){return e.isIndex})).map((function(e){return e.index})),references:e.filter((function(e){return e.isReferences})).map((function(e){return e.reference}))}},K=function(e){return e},N=function(e){return{reference:e,isReferences:!0}},x=function(e){return{field:e,isField:!0}},O=function(e){return e},S=function(e,n){return{name:n,type:{type_name:e}}},E=function(e){return e},k="on_delete",T=je("on_delete",!0),I="on_update",A=je("on_update",!0),D=(Me("add index"),je("add_index",!1),Me("schema define"),je("ActiveRecord::Schema.define",!1),Me("create table")),L="create_table",R=je("create_table",!0),q=(Me("do |t|"),Me("index")),$=".index",F=je(".index",!1),P=Me("references"),_=".references",j=je(".references",!1),U=Me("add foreign key"),M="add_foreign_key",W=je("add_foreign_key",!0),B=Me("column"),G="column",V=je("column",!1),H=Me("primary key"),z="primary_key",Q=je("primary_key",!1),Y=(je("version",!1),je("do",!1),"end"),X=je("end",!1),J=(Me("lambda function"),je("=>",!1),je("->",!1),/^[^"\n]/),Z=Ue(['"',"\n"],!0,!1),ee=function(e){return e.join("")},ne=/^[^'\n]/,te=Ue(["'","\n"],!0,!1),re=".",oe=je(".",!1),ae=(Ue([["0","9"]],!1,!0),Me("letter, number or underscore")),ie=/^[a-z0-9_.]/i,ue=Ue([["a","z"],["0","9"],"_","."],!1,!0),le=Me("comment line"),se="#",ce=je("#",!1),fe=Me("whatever"),de=/^[^\t\r\n]/,pe=Ue(["\t","\r","\n"],!0,!1),me="'",ye=je("'",!1),he='"',be=je('"',!1),ve=(je("|",!1),Me("comment")),we="//",ge=je("//",!1),Ce=/^[^\n]/,Ke=Ue(["\n"],!0,!1),Ne=Me("newline"),xe="\r\n",Oe=je("\r\n",!1),Se="\n",Ee=je("\n",!1),ke=Me("whitespace"),Te=/^[ \t\r\n\r]/,Ie=Ue([" ","\t","\r","\n","\r"],!1,!1),Ae=" ",De=je(" ",!1),Le=0,Re=0,qe=[{line:1,column:1}],$e=0,Fe=[],Pe=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');l=i[n.startRule]}function _e(e,n){throw function(e,n){return new u(e,null,null,n)}(e,n=void 0!==n?n:Be(Re,Le))}function je(e,n){return{type:"literal",text:e,ignoreCase:n}}function Ue(e,n,t){return{type:"class",parts:e,inverted:n,ignoreCase:t}}function Me(e){return{type:"other",description:e}}function We(n){var t,r=qe[n];if(r)return r;for(t=n-1;!qe[t];)t--;for(r={line:(r=qe[t]).line,column:r.column};t<n;)10===e.charCodeAt(t)?(r.line++,r.column=1):r.column++,t++;return qe[n]=r,r}function Be(e,n){var t=We(e),r=We(n);return{start:{offset:e,line:t.line,column:t.column},end:{offset:n,line:r.line,column:r.column}}}function Ge(e){Le<$e||(Le>$e&&($e=Le,Fe=[]),Fe.push(e))}function Ve(e,n,t){return new u(u.buildMessage(e,n),e,n,t)}function He(){var e,n,t;for(e=Le,n=[],t=ze();t!==o;)n.push(t),t=ze();return n!==o&&(Re=e,n=s()),e=n}function ze(){var n,t,r;for(n=Le,t=[],r=sn();r!==o;)t.push(r),r=sn();return t!==o?(r=function(){var n,t;n=Le,t=function(){var n,t,r,a,i;if(n=Le,t=function(){var n;Pe++,e.substr(Le,12).toLowerCase()===L?(n=e.substr(Le,12),Le+=12):(n=o,0===Pe&&Ge(R));Pe--,n===o&&(o,0===Pe&&Ge(D));return n}(),t!==o){for(r=[],a=cn();a!==o;)r.push(a),a=cn();r!==o&&(a=Je())!==o&&tn()!==o&&un()!==o?(i=function(){var e,n,t;e=Le,n=[],t=Ye();for(;t!==o;)n.push(t),t=Ye();n!==o&&(Re=e,n=C(n));return e=n,e}(),i!==o&&nn()!==o?(Re=n,n=t=g(a,i)):(Le=n,n=o)):(Le=n,n=o)}else Le=n,n=o;return n}(),t!==o&&(Re=n,t=c(t));n=t,n===o&&(n=Le,t=function(){var n,t,r,a,i,u,l,s,c,f;n=Le,t=[],r=cn();for(;r!==o;)t.push(r),r=cn();if(t!==o)if(r=function(){var n;Pe++,e.substr(Le,15).toLowerCase()===M?(n=e.substr(Le,15),Le+=15):(n=o,0===Pe&&Ge(W));Pe--,n===o&&(o,0===Pe&&Ge(U));return n}(),r!==o){for(a=[],i=cn();i!==o;)a.push(i),i=cn();if(a!==o)if((i=Je())!==o)if(44===e.charCodeAt(Le)?(u=d,Le++):(u=o,0===Pe&&Ge(p)),u!==o){for(l=[],s=cn();s!==o;)l.push(s),s=cn();if(l!==o)if((s=Je())!==o){for(c=[],f=Qe();f!==o;)c.push(f),f=Qe();c!==o?(Re=n,n=t=m(i,s,c)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o}else Le=n,n=o;else Le=n,n=o;else Le=n,n=o}else Le=n,n=o;else Le=n,n=o;return n}(),t!==o&&(Re=n,t=f(t)),(n=t)===o&&(n=function(){var e,n,t,r;e=Le,n=Ze(),n!==o&&(t=tn())!==o?((r=un())===o&&(r=null),r!==o?e=n=[n,t,r]:(Le=e,e=o)):(Le=e,e=o);return e}()));return n}(),r!==o?n=t=[t,r]:(Le=n,n=o)):(Le=n,n=o),n===o&&(n=function(){var n,t,r,a,i;Pe++,n=Le,t=[],r=sn();for(;r!==o;)t.push(r),r=sn();t!==o?(35===e.charCodeAt(Le)?(r=se,Le++):(r=o,0===Pe&&Ge(ce)),r!==o&&(a=tn())!==o?((i=un())===o&&(i=null),i!==o?n=t=[t,r,a,i]:(Le=n,n=o)):(Le=n,n=o)):(Le=n,n=o);Pe--,n===o&&(t=o,0===Pe&&Ge(le));return n}(),n===o&&(n=nn())===o&&(n=function(){var e,n;e=[],n=ln(),n===o&&(n=sn());if(n!==o)for(;n!==o;)e.push(n),(n=ln())===o&&(n=sn());else e=o;return e}())),n}function Qe(){var n,t,r,a,i,u,l;if(n=Le,44===e.charCodeAt(Le)?(t=d,Le++):(t=o,0===Pe&&Ge(p)),t!==o){for(r=[],a=cn();a!==o;)r.push(a),a=cn();if(r!==o)if(a=function(){var n;Pe++,e.substr(Le,6)===G?(n=G,Le+=6):(n=o,0===Pe&&Ge(V));Pe--,n===o&&(o,0===Pe&&Ge(B));return n}(),a!==o)if(58===e.charCodeAt(Le)?(i=y,Le++):(i=o,0===Pe&&Ge(h)),i!==o){for(u=[],l=cn();l!==o;)u.push(l),l=cn();u!==o&&(l=Je())!==o?(Re=n,n=t=b(l)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o;else Le=n,n=o}else Le=n,n=o;if(n===o){if(n=Le,44===e.charCodeAt(Le)?(t=d,Le++):(t=o,0===Pe&&Ge(p)),t!==o){for(r=[],a=cn();a!==o;)r.push(a),a=cn();if(r!==o)if(a=function(){var n;Pe++,e.substr(Le,11)===z?(n=z,Le+=11):(n=o,0===Pe&&Ge(Q));Pe--,n===o&&(o,0===Pe&&Ge(H));return n}(),a!==o)if(58===e.charCodeAt(Le)?(i=y,Le++):(i=o,0===Pe&&Ge(h)),i!==o){for(u=[],l=cn();l!==o;)u.push(l),l=cn();u!==o&&(l=Je())!==o?(Re=n,n=t=v(l)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o;else Le=n,n=o}else Le=n,n=o;if(n===o)if(n=Le,44===e.charCodeAt(Le)?(t=d,Le++):(t=o,0===Pe&&Ge(p)),t!==o){for(r=[],a=cn();a!==o;)r.push(a),a=cn();if(r!==o)if(a=function(){var n;e.substr(Le,9).toLowerCase()===k?(n=e.substr(Le,9),Le+=9):(n=o,0===Pe&&Ge(T));n===o&&(e.substr(Le,9).toLowerCase()===I?(n=e.substr(Le,9),Le+=9):(n=o,0===Pe&&Ge(A)));return n}(),a!==o)if(58===e.charCodeAt(Le)?(i=y,Le++):(i=o,0===Pe&&Ge(h)),i!==o){for(u=[],l=cn();l!==o;)u.push(l),l=cn();u!==o?(l=function(){var n,t,r,a;n=Le,58===e.charCodeAt(Le)?(t=y,Le++):(t=o,0===Pe&&Ge(h));if(t!==o){for(r=[],a=en();a!==o;)r.push(a),a=en();r!==o?(Re=n,n=t=ee(r)):(Le=n,n=o)}else Le=n,n=o;return n}(),l!==o?(Re=n,n=t=w(a,l)):(Le=n,n=o)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o;else Le=n,n=o}else Le=n,n=o}return n}function Ye(){var n,t,r,a,i;for(n=Le,t=[],r=sn();r!==o;)t.push(r),r=sn();if(t!==o)if(r=function(){var n,t;n=function(){var n,t,r,a;if(n=Le,t=function(){var n,t,r;Pe++,n=Le,t=en(),t!==o?(e.substr(Le,6)===$?(r=$,Le+=6):(r=o,0===Pe&&Ge(F)),r!==o?n=t=[t,r]:(Le=n,n=o)):(Le=n,n=o);Pe--,n===o&&(t=o,0===Pe&&Ge(q));return n}(),t!==o){if(r=[],(a=cn())!==o)for(;a!==o;)r.push(a),a=cn();else r=o;r!==o&&(a=tn())!==o?n=t=[t,r,a]:(Le=n,n=o)}else Le=n,n=o;return n}(),n===o&&(n=Le,t=function(){var n,t,r,a;if(n=Le,t=function(){var n,t,r;Pe++,n=Le,t=en(),t!==o?(e.substr(Le,11)===_?(r=_,Le+=11):(r=o,0===Pe&&Ge(j)),r!==o?n=t=[t,r]:(Le=n,n=o)):(Le=n,n=o);Pe--,n===o&&(t=o,0===Pe&&Ge(P));return n}(),t!==o){if(r=[],(a=cn())!==o)for(;a!==o;)r.push(a),a=cn();else r=o;r!==o?(a=function(){var n,t,r;n=Le,58===e.charCodeAt(Le)?(t=y,Le++):(t=o,0===Pe&&Ge(h));t!==o&&(r=Ze())!==o?(Re=n,n=t=E(r)):(Le=n,n=o);n===o&&(n=Le,(t=Je())!==o&&(Re=n,t=E(t)),n=t);return n}(),a!==o?(Re=n,n=t=O(a)):(Le=n,n=o)):(Le=n,n=o)}else Le=n,n=o;return n}(),t!==o&&(Re=n,t=N(t)),(n=t)===o&&(n=Le,t=function(){var n,t,r,a;if(n=Le,t=function(){var n,t,r,a,i;if(n=Le,t=en(),t!==o)if(46===e.charCodeAt(Le)?(r=re,Le++):(r=o,0===Pe&&Ge(oe)),r!==o){if(a=[],(i=en())!==o)for(;i!==o;)a.push(i),i=en();else a=o;a!==o?(Re=n,n=t=ee(a)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o;return n}(),t!==o){if(r=[],(a=cn())!==o)for(;a!==o;)r.push(a),a=cn();else r=o;r!==o&&(a=Je())!==o?(Re=n,n=t=S(t,a)):(Le=n,n=o)}else Le=n,n=o;return n}(),t!==o&&(Re=n,t=x(t)),n=t));return n}(),r!==o){for(a=[],i=rn();i!==o;)a.push(i),i=rn();a!==o&&(i=un())!==o?(Re=n,n=t=K(r)):(Le=n,n=o)}else Le=n,n=o;else Le=n,n=o;return n}function Xe(){var n;return e.substr(Le,3)===Y?(n=Y,Le+=3):(n=o,0===Pe&&Ge(X)),n}function Je(){var n;return(n=function(){var n,t,r;if(n=Le,an()!==o){for(t=[],J.test(e.charAt(Le))?(r=e.charAt(Le),Le++):(r=o,0===Pe&&Ge(Z));r!==o;)t.push(r),J.test(e.charAt(Le))?(r=e.charAt(Le),Le++):(r=o,0===Pe&&Ge(Z));t!==o&&(r=an())!==o?(Re=n,n=ee(t)):(Le=n,n=o)}else Le=n,n=o;return n}())===o&&(n=function(){var n,t,r;if(n=Le,on()!==o){for(t=[],ne.test(e.charAt(Le))?(r=e.charAt(Le),Le++):(r=o,0===Pe&&Ge(te));r!==o;)t.push(r),ne.test(e.charAt(Le))?(r=e.charAt(Le),Le++):(r=o,0===Pe&&Ge(te));t!==o&&(r=on())!==o?(Re=n,n=ee(t)):(Le=n,n=o)}else Le=n,n=o;return n}()),n}function Ze(){var e,n,t;if(e=Le,n=[],(t=en())!==o)for(;t!==o;)n.push(t),t=en();else n=o;return n!==o&&(Re=e,n=ee(n)),e=n}function en(){var n;return Pe++,ie.test(e.charAt(Le))?(n=e.charAt(Le),Le++):(n=o,0===Pe&&Ge(ue)),Pe--,n===o&&(o,0===Pe&&Ge(ae)),n}function nn(){var e,n,t,r;for(e=Le,n=[],t=sn();t!==o;)n.push(t),t=sn();return n!==o&&(t=Xe())!==o?((r=un())===o&&(r=null),r!==o?e=n=[n,t,r]:(Le=e,e=o)):(Le=e,e=o),e}function tn(){var n,t;for(Pe++,n=[],de.test(e.charAt(Le))?(t=e.charAt(Le),Le++):(t=o,0===Pe&&Ge(pe));t!==o;)n.push(t),de.test(e.charAt(Le))?(t=e.charAt(Le),Le++):(t=o,0===Pe&&Ge(pe));return Pe--,n===o&&(t=o,0===Pe&&Ge(fe)),n}function rn(){var n;return de.test(e.charAt(Le))?(n=e.charAt(Le),Le++):(n=o,0===Pe&&Ge(pe)),n}function on(){var n;return 39===e.charCodeAt(Le)?(n=me,Le++):(n=o,0===Pe&&Ge(ye)),n}function an(){var n;return 34===e.charCodeAt(Le)?(n=he,Le++):(n=o,0===Pe&&Ge(be)),n}function un(){var n,t,r;for(n=Le,t=[],r=cn();r!==o;)t.push(r),r=cn();return t!==o?(r=function(){var n;Pe++,e.substr(Le,2)===xe?(n=xe,Le+=2):(n=o,0===Pe&&Ge(Oe));n===o&&(10===e.charCodeAt(Le)?(n=Se,Le++):(n=o,0===Pe&&Ge(Ee)));Pe--,n===o&&(o,0===Pe&&Ge(Ne));return n}(),r!==o?n=t=[t,r]:(Le=n,n=o)):(Le=n,n=o),n}function ln(){var n,t,r;return Pe++,n=Le,e.substr(Le,2)===we?(t=we,Le+=2):(t=o,0===Pe&&Ge(ge)),t!==o?(Ce.test(e.charAt(Le))?(r=e.charAt(Le),Le++):(r=o,0===Pe&&Ge(Ke)),r===o&&(r=null),r!==o?n=t=[t,r]:(Le=n,n=o)):(Le=n,n=o),Pe--,n===o&&(t=o,0===Pe&&Ge(ve)),n}function sn(){var n;return Pe++,Te.test(e.charAt(Le))?(n=e.charAt(Le),Le++):(n=o,0===Pe&&Ge(Ie)),Pe--,n===o&&(o,0===Pe&&Ge(ke)),n}function cn(){var n;return 32===e.charCodeAt(Le)?(n=Ae,Le++):(n=o,0===Pe&&Ge(De)),n}var fn=t(5246),dn=t(2543),pn={tables:[],refs:[]};function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(e){return"primary_key"===e.name}));return n?e.find((function(e){return e.name===n.value}))?e.map((function(e){return{name:e.name,type:e.type,PK:n.value===field.name}})):[{name:n.value,type:{type_name:"varchar"},PK:!0}].concat(e):e}function yn(e,n){return e.tableName==n.tableName&&dn.isEqual(dn.sortBy(e.fieldNames),dn.sortBy(n.fieldNames))}function hn(e,n){return yn(e[0],n[0])&&yn(e[1],n[1])}function bn(e,n){return hn(e.endpoints,n.endpoints)||hn(e.endpoints,n.endpoints.slice().reverse())}function vn(e){e&&(pn.refs.find((function(n){return bn(n,e)}))&&_e("Duplicated references"),pn.refs.push(e))}function wn(e,n){if(!n||0===n.length)return[];for(var t=[],r=function(){var r=n[o],a=fn.plural(r),i=pn.tables.find((function(e){return e.name===a}));if(!i)return"continue";var u="".concat(r,"_id"),l=e.fields.find((function(e){return e.name===u})),s=i.fields.find((function(e){return"id"===e.name}));l||e.fields.push({name:u,type:{type_name:s?s.type.type_name:"varchar"}}),t.push({name:"fk_rails_".concat(e.name,"_").concat(a),endpoints:[{tableName:e.name,fieldNames:[u],relation:"1"},{tableName:a,fieldNames:["id"],relation:"1"}]})},o=0;o<n.length;o+=1)r();return t}if((r=l())!==o&&Le===e.length)return r;throw r!==o&&Le<e.length&&Ge({type:"end"}),Ve(Fe,$e<e.length?e.charAt($e):null,$e<e.length?Be($e,$e+1):Be($e,$e))}}},27276:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.VERSION=void 0;var r=t(67429).version;n.VERSION=r},5246:function(e){e.exports=function(){var e=[],n=[],t={},r={},o={};function a(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function i(e,n){return e===n?n:e===e.toLowerCase()?n.toLowerCase():e===e.toUpperCase()?n.toUpperCase():e[0]===e[0].toUpperCase()?n.charAt(0).toUpperCase()+n.substr(1).toLowerCase():n.toLowerCase()}function u(e,n){return e.replace(/\$(\d{1,2})/g,(function(e,t){return n[t]||""}))}function l(e,n){return e.replace(n[0],(function(t,r){var o=u(n[1],arguments);return i(""===t?e[r-1]:t,o)}))}function s(e,n,r){if(!e.length||t.hasOwnProperty(e))return n;for(var o=r.length;o--;){var a=r[o];if(a[0].test(n))return l(n,a)}return n}function c(e,n,t){return function(r){var o=r.toLowerCase();return n.hasOwnProperty(o)?i(r,o):e.hasOwnProperty(o)?i(r,e[o]):s(o,r,t)}}function f(e,n,t,r){return function(r){var o=r.toLowerCase();return!!n.hasOwnProperty(o)||!e.hasOwnProperty(o)&&s(o,o,t)===o}}function d(e,n,t){return(t?n+" ":"")+(1===n?d.singular(e):d.plural(e))}return d.plural=c(o,r,e),d.isPlural=f(o,r,e),d.singular=c(r,o,n),d.isSingular=f(r,o,n),d.addPluralRule=function(n,t){e.push([a(n),t])},d.addSingularRule=function(e,t){n.push([a(e),t])},d.addUncountableRule=function(e){"string"!=typeof e?(d.addPluralRule(e,"$0"),d.addSingularRule(e,"$0")):t[e.toLowerCase()]=!0},d.addIrregularRule=function(e,n){n=n.toLowerCase(),e=e.toLowerCase(),o[e]=n,r[n]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return d.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return d.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return d.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule),d}()}}]);
