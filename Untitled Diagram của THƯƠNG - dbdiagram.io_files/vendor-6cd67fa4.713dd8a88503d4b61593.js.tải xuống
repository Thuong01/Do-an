!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="810aafdc-22ae-4c1c-9da3-fc191fae5249",e._sentryDebugIdIdentifier="sentry-dbid-810aafdc-22ae-4c1c-9da3-fc191fae5249")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"13ad4a0c312011ebb49f3e8dc8f97be809f60d04"},(self.webpackChunkschema_diagram_vue=self.webpackChunkschema_diagram_vue||[]).push([[9933],{91860:function(e,t,n){n.d(t,{sV:function(){return a},zF:function(){return d}});var r=n(39587),i=n(50180),s=n(37264),o=n(54435),c=n(67167);const a={EDITORS:"CodeEditors",FILES:"CodeFiles"};function d(e){var t;const n=[];if(e.dataTransfer&&e.dataTransfer.types.length>0){const d=e.dataTransfer.getData(a.EDITORS);if(d)try{n.push(...(0,i.q)(d))}catch(e){}else try{const t=e.dataTransfer.getData(r.t.RESOURCES);n.push(...function(e){const t=[];if(e){const n=JSON.parse(e);for(const e of n)if(e.indexOf(":")>0){const{selection:n,uri:r}=(0,o.ew)(s.r.parse(e));t.push({resource:r,options:{selection:n}})}}return t}(t))}catch(e){}if(null===(t=e.dataTransfer)||void 0===t?void 0:t.files)for(let t=0;t<e.dataTransfer.files.length;t++){const r=e.dataTransfer.files[t];if(r&&r.path)try{n.push({resource:s.r.file(r.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}}const u=e.dataTransfer.getData(a.FILES);if(u)try{const e=JSON.parse(u);for(const t of e)n.push({resource:s.r.file(t),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}const l=c.O.as(h.DragAndDropContribution).getAll();for(const t of l){const r=e.dataTransfer.getData(t.dataFormatKey);if(r)try{n.push(...t.getEditorInputs(r))}catch(e){}}}return n}const h={DragAndDropContribution:"workbench.contributions.dragAndDrop"};c.O.add(h.DragAndDropContribution,new class{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}})},52947:function(e,t,n){var r;n.d(t,{$:function(){return r}}),function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(r||(r={}))},45859:function(e,t,n){n.d(t,{H:function(){return r}});class r{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}},89971:function(e,t,n){var r;n.d(t,{p:function(){return r}}),function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(r||(r={}))},60919:function(e,t,n){n.d(t,{_Q:function(){return v},dg:function(){return u},pG:function(){return y}});var r=n(6595),i=n(9160),s=n(96655),o=n(48421),c=n(3765),a=n(10998),d=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},h=function(e,t){return function(n,r){t(n,r,e)}};const u=new s.N1("suggestWidgetVisible",!1,(0,c.kg)("suggestWidgetVisible","Whether suggestion are visible")),l="historyNavigationWidgetFocus",g="historyNavigationForwardsEnabled",f="historyNavigationBackwardsEnabled";let _;const p=[];function m(e,t){if(p.includes(t))throw new Error("Cannot register the same widget multiple times");p.push(t);const n=new a.Cm,r=n.add(e.createScoped(t.element)),i=new s.N1(l,!1).bindTo(r),o=new s.N1(g,!0).bindTo(r),c=new s.N1(f,!0).bindTo(r),d=()=>{i.set(!0),_=t},h=()=>{i.set(!1),_===t&&(_=void 0)};return t.element===document.activeElement&&d(),n.add(t.onDidFocus((()=>d()))),n.add(t.onDidBlur((()=>h()))),n.add((0,a.s)((()=>{p.splice(p.indexOf(t),1),h()}))),{scopedContextKeyService:r,historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:c,dispose(){n.dispose()}}}let y=class extends r.c{constructor(e,t,n,r,i=!1){super(e,t,i,n),this._register(m(r,this.inputBox))}};y=d([h(3,s.fN)],y);let v=class extends i.P{constructor(e,t,n,r,i=!1){super(e,t,i,n),this._register(m(r,this.inputBox))}};v=d([h(3,s.fN)],v),o.f.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:s.M$.and(s.M$.has(l),s.M$.equals(f,!0),u.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{_&&_.showPreviousValue()}}),o.f.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:s.M$.and(s.M$.has(l),s.M$.equals(g,!0),u.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{_&&_.showNextValue()}})},69141:function(e,t,n){function r(e){var t,n;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(n=e.lookupKeybinding("history.showNext"))||void 0===n?void 0:n.getElectronAccelerator())}n.d(t,{z:function(){return r}})},83312:function(e,t,n){n.d(t,{d:function(){return r}});class r{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}},66726:function(e,t,n){n.d(t,{N:function(){return o},v:function(){return s}});var r=n(83312);const i=[];function s(e,t,n){t instanceof r.d||(t=new r.d(t,[],n)),i.push([e,t])}function o(){return i}},82399:function(e,t,n){var r;n.d(t,{_$:function(){return r},_Y:function(){return i},u1:function(){return s}}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(r||(r={}));const i=s("instantiationService");function s(e){if(r.serviceIds.has(e))return r.serviceIds.get(e);const t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[r.DI_TARGET]===t?t[r.DI_DEPENDENCIES].push({id:e,index:n}):(t[r.DI_DEPENDENCIES]=[{id:e,index:n}],t[r.DI_TARGET]=t)}(t,e,i)};return t.toString=()=>e,r.serviceIds.set(e,t),t}},19531:function(e,t,n){n.d(t,{n:function(){return u}});var r=n(65958),i=n(94327),s=n(83312);class o{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class c{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing.set(this._hashFn(t),r),r.incoming.set(this._hashFn(e),n)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const e of this._nodes.values())e.outgoing.delete(t),e.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new o(e),this._nodes.set(t,n)),n}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,n]of this._nodes)e.push(`${t}, (incoming)[${[...n.incoming.keys()].join(", ")}], (outgoing)[${[...n.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const n=new Set([e]),r=this._findCycle(t,n);if(r)return r}}_findCycle(e,t){for(const[n,r]of e.outgoing){if(t.has(n))return[...t,n].join(" -> ");t.add(n);const e=this._findCycle(r,t);if(e)return e;t.delete(n)}}}var a=n(82399),d=n(30657);class h extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class u{constructor(e=new d.a,t=!1,n){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=n,this._services.set(a._Y,this)}createChild(e){return new u(e,this._strict,this)}invokeFunction(e,...t){const n=l.traceInvocation(e);let r=!1;try{return e({get:e=>{if(r)throw(0,i.iH)("service accessor is only valid during the invocation of its target method");const t=this._getOrCreateServiceInstance(e,n);if(!t)throw new Error(`[invokeFunction] unknown service '${e}'`);return t}},...t)}finally{r=!0,n.stop()}}createInstance(e,...t){let n,r;return e instanceof s.d?(n=l.traceCreation(e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),n)):(n=l.traceCreation(e),r=this._createInstance(e,t,n)),n.stop(),r}_createInstance(e,t=[],n){const r=a._$.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),i=[];for(const t of r){const r=this._getOrCreateServiceInstance(t.id,n);r||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`,!1),i.push(r)}const s=r.length>0?r[0].index:t.length;if(t.length!==s){console.trace(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);const n=s-t.length;t=n>0?t.concat(new Array(n)):t.slice(0,s)}return new e(...[...t,...i])}_setServiceInstance(e,t){if(this._services.get(e)instanceof s.d)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){const n=this._getServiceInstanceOrDescriptor(e);return n instanceof s.d?this._safeCreateAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,t,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,n){const r=new c((e=>e.id.toString()));let i=0;const o=[{id:e,desc:t,_trace:n}];for(;o.length;){const t=o.pop();if(r.lookupOrInsertNode(t),i++>1e3)throw new h(r);for(const n of a._$.getServiceDependencies(t.desc.ctor)){const i=this._getServiceInstanceOrDescriptor(n.id);if(i||this._throwIfStrict(`[createInstance] ${e} depends on ${n.id} which is NOT registered.`,!0),i instanceof s.d){const e={id:n.id,desc:i,_trace:t._trace.branch(n.id,!0)};r.insertEdge(t,e),o.push(e)}}}for(;;){const e=r.roots();if(0===e.length){if(!r.isEmpty())throw new h(r);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof s.d){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}r.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,n=[],r,i){if(this._services.get(e)instanceof s.d)return this._createServiceInstance(t,n,r,i);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,r,i);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],n,i){if(n){const n=new r.kb((()=>this._createInstance(e,t,i)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];const r=n.value;let i=r[t];return"function"!=typeof i||(i=i.bind(r),e[t]=i),i},set(e,t,r){return n.value[t]=r,!0}})}return this._createInstance(e,t,i)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class l{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return l._None}static traceCreation(e){return l._None}branch(e,t){const n=new l(2,e.toString());return this._dep.push([e,t,n]),n}stop(){const e=Date.now()-this._start;l._totals+=e;let t=!1;const n=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(n,r){const i=[],s=new Array(n+1).join("\t");for(const[o,c,a]of r._dep)if(c&&a){t=!0,i.push(`${s}CREATES -> ${o}`);const r=e(n+1,a);r&&i.push(r)}else i.push(`${s}uses -> ${o}`);return i.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${l._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join("\n"))}}l._None=new class extends l{constructor(){super(-1,null)}stop(){}branch(){return this}},l._totals=0},30657:function(e,t,n){n.d(t,{a:function(){return r}});class r{constructor(...e){this._entries=new Map;for(const[t,n]of e)this.set(t,n)}set(e,t){const n=this._entries.get(e);return this._entries.set(e,t),n}get(e){return this._entries.get(e)}}},51460:function(e,t,n){n.d(t,{F:function(){return s}});var r=n(2106),i=n(67167);const s={JSONContribution:"base.contributions.json"};const o=new class{constructor(){this._onDidChangeSchema=new r.vl,this.schemasById={}}registerSchema(e,t){var n;this.schemasById[(n=e,n.length>0&&"#"===n.charAt(n.length-1)?n.substring(0,n.length-1):n)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};i.O.add(s.JSONContribution,o)},51170:function(e,t,n){n.d(t,{E:function(){return a}});var r=n(65958),i=n(2106),s=n(10998),o=n(3765);const c=/^(cursor|delete)/;class a extends s.jG{constructor(e,t,n,s,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=n,this._notificationService=s,this._logService=o,this._onDidUpdateKeybindings=this._register(new i.vl),this._currentChord=null,this._currentChordChecker=new r.vb,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=d.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new r.pc,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:i.Jh.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const n=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=n.getDispatchParts();if(null===r)return this._log("\\ Keyboard event cannot be dispatched"),null;const i=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(i,s,r)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(o.kg("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const n=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-n>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const n=this.resolveKeyboardEvent(e),[r]=n.getSingleModifierDispatchParts();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=d.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=d.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[i]=n.getParts();return this._ignoreSingleModifiers=new d(i),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,n=!1){let r=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let i=null,s=null;if(n){const[t]=e.getSingleModifierDispatchParts();i=t,s=t}else[i]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(null===i)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),d=e.getLabel(),h=this._getResolver().resolve(a,s,i);return this._logService.trace("KeybindingService#dispatch",d,null==h?void 0:h.commandId),h&&h.enterChord?(r=!0,this._enterChordMode(i,d),this._log("+ Entering chord mode..."),r):(this._currentChord&&(h&&h.commandId||(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${d}".`),this._notificationService.status(o.kg("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,d),{hideAfter:1e4}),r=!0)),this._leaveChordMode(),h&&h.commandId&&(h.bubble||(r=!0),this._log(`+ Invoking command ${h.commandId}.`),void 0===h.commandArgs?this._commandService.executeCommand(h.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(h.commandId,h.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),c.test(h.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class d{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}d.EMPTY=new d(null)},56071:function(e,t,n){n.d(t,{b:function(){return r}});const r=(0,n(82399).u1)("keybindingService")},55853:function(e,t,n){n.d(t,{f:function(){return i}});var r=n(96655);class i{constructor(e,t,n){this._log=n,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const t of e){const e=t.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=i.handleRemovals([].concat(e).concat(t));for(let e=0,t=this._keybindings.length;e<t;e++){const t=this._keybindings[e];0!==t.keypressParts.length&&(t.when&&0===t.when.type||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(e,t,n,i){if(t&&e.keypressParts[0]!==t)return!1;if(n&&e.keypressParts[1]!==n)return!1;if(i){if(!e.when)return!1;if(!(0,r.jQ)(i,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.command&&"-"===r.command.charAt(0)){const e=r.command.substring(1);t.has(e)?t.get(e).push(r):t.set(e,[r])}}if(0===t.size)return e;const n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];if(!i.command||0===i.command.length){n.push(i);continue}if("-"===i.command.charAt(0))continue;const s=t.get(i.command);if(!s||!i.isDefault){n.push(i);continue}let o=!1;for(const e of s){const t=e.keypressParts[0],n=e.keypressParts[1],r=e.when;if(this._isTargetedForRemoval(i,t,n,r)){o=!0;break}}o||n.push(i)}return n}_addKeyPress(e,t){const n=this._map.get(e);if(void 0===n)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=n.length-1;e>=0;e--){const r=n[e];if(r.command===t.command)continue;const s=r.keypressParts.length>1,o=t.keypressParts.length>1;s&&o&&r.keypressParts[1]!==t.keypressParts[1]||i.whenIsEntirelyIncluded(r.when,t.when)&&this._removeFromLookupMap(r)}n.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(void 0!==t)for(let n=0,r=t.length;n<r;n++)if(t[n]===e)return void t.splice(n,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&(0,r.M0)(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const n=this._lookupMap.get(e);if(void 0===n||0===n.length)return null;if(1===n.length)return n[0];for(let e=n.length-1;e>=0;e--){const r=n[e];if(t.contextMatchesRules(r.when))return r}return n[n.length-1]}resolve(e,t,n){this._log(`| Resolving ${n}${t?` chorded from ${t}`:""}`);let r=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;r=[];for(let t=0,i=e.length;t<i;t++){const i=e[t];i.keypressParts[1]===n&&r.push(i)}}else{const e=this._map.get(n);if(void 0===e)return this._log("\\ No keybinding entries."),null;r=e}const i=this._findCommand(e,r);return i?null===t&&i.keypressParts.length>1&&null!==i.keypressParts[1]?(this._log(`\\ From ${r.length} keybinding entries, matched chord, when: ${s(i.when)}, source: ${o(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${r.length} keybinding entries, matched ${i.command}, when: ${s(i.when)}, source: ${o(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(i._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function s(e){return e?`${e.serialize()}`:"no when condition"}function o(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}},48421:function(e,t,n){n.d(t,{f:function(){return a}});var r=n(39619),i=n(63339),s=n(59715),o=n(67167);class c{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===i.OS){if(e&&e.win)return e.win}else if(2===i.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=c.bindToCurrentPlatform(e);if(t&&t.primary){const n=(0,r.ZU)(t.primary,i.OS);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let n=0,s=t.secondary.length;n<s;n++){const s=t.secondary[n],o=(0,r.ZU)(s,i.OS);o&&this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-n-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),s.wb.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&c._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,n,r,s,o){1===i.OS&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:n,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(d)),this._cachedMergedKeybindings.slice(0)}}const a=new c;function d(e,t){if(e.weight1!==t.weight1)return e.weight1-t.weight1;if(e.command&&t.command){if(e.command<t.command)return-1;if(e.command>t.command)return 1}return e.weight2-t.weight2}o.O.add("platform.keybindingsRegistry",a)},85508:function(e,t,n){n.d(t,{K:function(){return i},u:function(){return r}});class r{constructor(e,t,n,r,s,o,c){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?i(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=i(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=c}}function i(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!r)return t;t.push(r)}return t}},46964:function(e,t,n){n.d(t,{j:function(){return d}});var r=n(68387),i=n(39619),s=n(94327),o=n(98315);class c extends i.z5{constructor(e,t){if(super(),0===t.length)throw(0,s.Qg)("parts");this._os=e,this._parts=t}getLabel(){return o.Of.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return o.r0.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:o.rr.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new i.QB(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}var a=n(85508);class d extends c{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return r.YM.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":r.YM.toString(e.keyCode)}_getElectronAccelerator(e){return r.YM.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return d.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=r.YM.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=r.Fo[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof i.h$)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new i.h$(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const n=(0,a.K)(e.map((e=>this._resolveSimpleUserBinding(e))));return n.length>0?[new d(new i.p(n),t)]:[]}}}}]);
